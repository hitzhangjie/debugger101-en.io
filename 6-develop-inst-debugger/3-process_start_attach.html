
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>6.3 Launch & Attach Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-md-toc/style.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="4-debug-session.html" />
    
    
    <link rel="prev" href="2-process_attach.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    1 Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../2-preface/">
            
                <a href="../2-preface/">
            
                    
                    2 Preface
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../3-terms/">
            
                <a href="../3-terms/">
            
                    
                    3 Common Terms
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../4-basics/">
            
                <a href="../4-basics/">
            
                    
                    4 Software Debugging Basics
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../4-basics/1-purposes.html">
            
                <a href="../4-basics/1-purposes.html">
            
                    
                    4.1 Debugging Purposes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../4-basics/2-dependencies.html">
            
                <a href="../4-basics/2-dependencies.html">
            
                    
                    4.2 Debugging Dependencies
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../4-basics/3-countertactics.html">
            
                <a href="../4-basics/3-countertactics.html">
            
                    
                    4.3 Anti-Debugging Techniques
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../5-debugger-skeleton/">
            
                <a href="../5-debugger-skeleton/">
            
                    
                    5 Entering Debugger Development
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../5-debugger-skeleton/1-debugger_skeleton.html">
            
                <a href="../5-debugger-skeleton/1-debugger_skeleton.html">
            
                    
                    5.1 Debugger Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../5-debugger-skeleton/2-debugger_demo.html">
            
                <a href="../5-debugger-skeleton/2-debugger_demo.html">
            
                    
                    5.2 Debugger Example
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="./">
            
                <a href="./">
            
                    
                    6 Developing Go Instruction-Level Debugger
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="1-process_start.html">
            
                <a href="1-process_start.html">
            
                    
                    6.1 Process Launch
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="2-process_attach.html">
            
                <a href="2-process_attach.html">
            
                    
                    6.2 Process Attach
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.6.3" data-path="3-process_start_attach.html">
            
                <a href="3-process_start_attach.html">
            
                    
                    6.3 Launch & Attach
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="4-debug-session.html">
            
                <a href="4-debug-session.html">
            
                    
                    6.4 Debug Session
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.5" data-path="5-disassemble.html">
            
                <a href="5-disassemble.html">
            
                    
                    6.5 Disassembly
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.6" data-path="6-breakpoint.html">
            
                <a href="6-breakpoint.html">
            
                    
                    6.6 Adding Breakpoints
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.7" data-path="7-breakpoints.html">
            
                <a href="7-breakpoints.html">
            
                    
                    6.7 Listing Breakpoints
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.8" data-path="8-clear.html">
            
                <a href="8-clear.html">
            
                    
                    6.8 Removing Breakpoints
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.9" data-path="9-clearall.html">
            
                <a href="9-clearall.html">
            
                    
                    6.9 Clearing All Breakpoints
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.10" data-path="10-step.html">
            
                <a href="10-step.html">
            
                    
                    6.10 Stepping Operations
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.11" data-path="11-continue.html">
            
                <a href="11-continue.html">
            
                    
                    6.11 Running to Breakpoint
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.12" data-path="12-pmem.html">
            
                <a href="12-pmem.html">
            
                    
                    6.12 Printing Memory Data
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.13" data-path="13-pregs.html">
            
                <a href="13-pregs.html">
            
                    
                    6.13 Printing Register Data
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.14" data-path="14-set-mem.html">
            
                <a href="14-set-mem.html">
            
                    
                    6.14 Modifying Memory Data
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.15" data-path="15-set-regs.html">
            
                <a href="15-set-regs.html">
            
                    
                    6.15 Modifying Register Data
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.16" data-path="20-trace_new_threads.html">
            
                <a href="20-trace_new_threads.html">
            
                    
                    6.20 Tracing Multi-threaded Programs 1
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.17" data-path="21-trace_old_threads.html">
            
                <a href="21-trace_old_threads.html">
            
                    
                    6.21 Tracing Multi-threaded Programs 2
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.18" data-path="80-aslr.html">
            
                <a href="80-aslr.html">
            
                    
                    6.80 Understanding ASLR
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.19" data-path="99-more.html">
            
                <a href="99-more.html">
            
                    
                    6.99 More...
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../7-headto-sym-debugger/">
            
                <a href="../7-headto-sym-debugger/">
            
                    
                    7 Advancing to Symbol-Level Debugger
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../7-headto-sym-debugger/1-how-go-build-works.html">
            
                <a href="../7-headto-sym-debugger/1-how-go-build-works.html">
            
                    
                    7.1 Go Build Internals
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="../7-headto-sym-debugger/2-elf.html">
            
                <a href="../7-headto-sym-debugger/2-elf.html">
            
                    
                    7.2 Understanding ELF Files
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="../7-headto-sym-debugger/3-syms.html">
            
                <a href="../7-headto-sym-debugger/3-syms.html">
            
                    
                    7.3 Symbols & Symbol Tables
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.4" data-path="../7-headto-sym-debugger/4-syms-resolve-reloc.html">
            
                <a href="../7-headto-sym-debugger/4-syms-resolve-reloc.html">
            
                    
                    7.4 Symbol Resolution & Relocation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.5" data-path="../7-headto-sym-debugger/5-loading.html">
            
                <a href="../7-headto-sym-debugger/5-loading.html">
            
                    
                    7.5 Loading
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.6" data-path="../7-headto-sym-debugger/6-gopkg-debug/">
            
                <a href="../7-headto-sym-debugger/6-gopkg-debug/">
            
                    
                    7.6 Go Standard Library debug/*
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.6.1" data-path="../7-headto-sym-debugger/6-gopkg-debug/1-elf.html">
            
                <a href="../7-headto-sym-debugger/6-gopkg-debug/1-elf.html">
            
                    
                    7.6.1 debug/elf
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.6.2" data-path="../7-headto-sym-debugger/6-gopkg-debug/2-gosym.html">
            
                <a href="../7-headto-sym-debugger/6-gopkg-debug/2-gosym.html">
            
                    
                    7.6.2 debug/gosym
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.6.3" data-path="../7-headto-sym-debugger/6-gopkg-debug/3-dwarf.html">
            
                <a href="../7-headto-sym-debugger/6-gopkg-debug/3-dwarf.html">
            
                    
                    7.6.3 debug/dwarf
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7.7" data-path="../7-headto-sym-debugger/7-headto-dwarf/">
            
                <a href="../7-headto-sym-debugger/7-headto-dwarf/">
            
                    
                    7.7 Advancing to DWARF
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.7.1" data-path="../7-headto-sym-debugger/7-headto-dwarf/1-gopkgs-about-dwarf.html">
            
                <a href="../7-headto-sym-debugger/7-headto-dwarf/1-gopkgs-about-dwarf.html">
            
                    
                    7.7.1 Related Go Packages
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.7.2" data-path="../7-headto-sym-debugger/7-headto-dwarf/2-delve-into-internals.html">
            
                <a href="../7-headto-sym-debugger/7-headto-dwarf/2-delve-into-internals.html">
            
                    
                    7.7.2 How to Crack Those Details
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.7.3" data-path="../7-headto-sym-debugger/7-headto-dwarf/3-compiler-gen-dwarfdata.html">
            
                <a href="../7-headto-sym-debugger/7-headto-dwarf/3-compiler-gen-dwarfdata.html">
            
                    
                    7.7.3 Compiler Generated DWARF Data
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.7.4" data-path="../7-headto-sym-debugger/7-headto-dwarf/4-linker-gen-dwarfdata.html">
            
                <a href="../7-headto-sym-debugger/7-headto-dwarf/4-linker-gen-dwarfdata.html">
            
                    
                    7.7.4 Linker Generated DWARF Data
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.7.5" data-path="../7-headto-sym-debugger/7-headto-dwarf/5-headto-dwarf.html">
            
                <a href="../7-headto-sym-debugger/7-headto-dwarf/5-headto-dwarf.html">
            
                    
                    7.7.5 Understanding DWARF
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../8-dwarf/">
            
                <a href="../8-dwarf/">
            
                    
                    8 Debug Information Standard: DWARF
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="../8-dwarf/1-history.html">
            
                <a href="../8-dwarf/1-history.html">
            
                    
                    8.1 DWARF Development History
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="../8-dwarf/2-overview.html">
            
                <a href="../8-dwarf/2-overview.html">
            
                    
                    8.2 DWARF Content Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="../8-dwarf/3-dwarfdata.html">
            
                <a href="../8-dwarf/3-dwarfdata.html">
            
                    
                    8.3 DWARF Data Classification
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4" data-path="../8-dwarf/4-die/">
            
                <a href="../8-dwarf/4-die/">
            
                    
                    8.4 DIE Detailed Introduction
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.4.1" data-path="../8-dwarf/4-die/1-desc-data-type.html">
            
                <a href="../8-dwarf/4-die/1-desc-data-type.html">
            
                    
                    8.4.1 DIE Describing Data and Types
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.2" data-path="../8-dwarf/4-die/2-desc-locations.html">
            
                <a href="../8-dwarf/4-die/2-desc-locations.html">
            
                    
                    8.4.2 Location Data
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.3" data-path="../8-dwarf/4-die/3-desc-code.html">
            
                <a href="../8-dwarf/4-die/3-desc-code.html">
            
                    
                    8.4.3 DIE Describing Executable Code
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.4" data-path="../8-dwarf/4-die/4-encoding.html">
            
                <a href="../8-dwarf/4-die/4-encoding.html">
            
                    
                    8.4.4 DIE Data Encoding
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8.5" data-path="../8-dwarf/5-other/">
            
                <a href="../8-dwarf/5-other/">
            
                    
                    8.5 Other Debug Data
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.5.1" data-path="../8-dwarf/5-other/1-accelerated-access.html">
            
                <a href="../8-dwarf/5-other/1-accelerated-access.html">
            
                    
                    8.5.1 Accelerated Access
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5.2" data-path="../8-dwarf/5-other/2-lineno-table.html">
            
                <a href="../8-dwarf/5-other/2-lineno-table.html">
            
                    
                    8.5.2 Line Number Table Information
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5.3" data-path="../8-dwarf/5-other/3-callframe-info.html">
            
                <a href="../8-dwarf/5-other/3-callframe-info.html">
            
                    
                    8.5.3 Call Frame Information
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5.4" data-path="../8-dwarf/5-other/4-macro-info.html">
            
                <a href="../8-dwarf/5-other/4-macro-info.html">
            
                    
                    8.5.4 Macro Information
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5.5" data-path="../8-dwarf/5-other/5-varlen-data.html">
            
                <a href="../8-dwarf/5-other/5-varlen-data.html">
            
                    
                    8.5.5 Variable Length Data
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5.6" data-path="../8-dwarf/5-other/6-shrink-data.html">
            
                <a href="../8-dwarf/5-other/6-shrink-data.html">
            
                    
                    8.5.6 Compressed DWARF Data
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5.7" data-path="../8-dwarf/5-other/7-elf-sections.html">
            
                <a href="../8-dwarf/5-other/7-elf-sections.html">
            
                    
                    8.5.7 ELF Sections
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8.6" data-path="../8-dwarf/6-practices.html">
            
                <a href="../8-dwarf/6-practices.html">
            
                    
                    8.6 DWARF Parsing and Applications
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.7" data-path="../8-dwarf/7-summary.html">
            
                <a href="../8-dwarf/7-summary.html">
            
                    
                    8.7 Summary
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="../9-develop-sym-debugger/">
            
                <a href="../9-develop-sym-debugger/">
            
                    
                    9 Developing Go Symbol-Level Debugger
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="../9-develop-sym-debugger/1-æ¶æè®¾è®¡/">
            
                <a href="../9-develop-sym-debugger/1-æ¶æè®¾è®¡/">
            
                    
                    9.1 Architecture Design
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1.1" data-path="../9-develop-sym-debugger/1-æ¶æè®¾è®¡/1-ç°ä»£è°è¯å¨æ¶æ.html">
            
                <a href="../9-develop-sym-debugger/1-æ¶æè®¾è®¡/1-ç°ä»£è°è¯å¨æ¶æ.html">
            
                    
                    9.1.1 Modern Debugger Architecture
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.1.2" data-path="../9-develop-sym-debugger/1-æ¶æè®¾è®¡/2-åç«¯UIå±è®¾è®¡.html">
            
                <a href="../9-develop-sym-debugger/1-æ¶æè®¾è®¡/2-åç«¯UIå±è®¾è®¡.html">
            
                    
                    9.1.2 Frontend UI Layer Design
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.1.3" data-path="../9-develop-sym-debugger/1-æ¶æè®¾è®¡/3-Serviceå±è®¾è®¡.html">
            
                <a href="../9-develop-sym-debugger/1-æ¶æè®¾è®¡/3-Serviceå±è®¾è®¡.html">
            
                    
                    9.1.3 Service Layer Design
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.1.4" data-path="../9-develop-sym-debugger/1-æ¶æè®¾è®¡/4-åç«¯ç¬¦å·å±è®¾è®¡.html">
            
                <a href="../9-develop-sym-debugger/1-æ¶æè®¾è®¡/4-åç«¯ç¬¦å·å±è®¾è®¡.html">
            
                    
                    9.1.4 Backend Symbol Layer Design
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.1.5" data-path="../9-develop-sym-debugger/1-æ¶æè®¾è®¡/5-åç«¯ç®æ å±è®¾è®¡.html">
            
                <a href="../9-develop-sym-debugger/1-æ¶æè®¾è®¡/5-åç«¯ç®æ å±è®¾è®¡.html">
            
                    
                    9.1.5 Backend Target Layer Design
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.1.6" data-path="../9-develop-sym-debugger/1-æ¶æè®¾è®¡/6-æ¥å¿ç³»ç»è®¾è®¡.html">
            
                <a href="../9-develop-sym-debugger/1-æ¶æè®¾è®¡/6-æ¥å¿ç³»ç»è®¾è®¡.html">
            
                    
                    9.1.6 Logging System Design
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/">
            
                <a href="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/">
            
                    
                    9.2 Core Debugging Logic
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.2.1" data-path="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/00-cmds.html">
            
                <a href="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/00-cmds.html">
            
                    
                    9.2.00 Core Debugging Commands
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.2" data-path="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/01-debug-session.html">
            
                <a href="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/01-debug-session.html">
            
                    
                    9.2.01 Opening Debug Session
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.3" data-path="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/11-tinydbg_attach.html">
            
                <a href="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/11-tinydbg_attach.html">
            
                    
                    9.2.11 tinydbg attach
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.4" data-path="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/12-tinydbg_attach_waitfor.html">
            
                <a href="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/12-tinydbg_attach_waitfor.html">
            
                    
                    9.2.12 tinydbg attach+waitfor
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.5" data-path="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/13-tinydbg_exec.html">
            
                <a href="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/13-tinydbg_exec.html">
            
                    
                    9.2.13 tinydbg exec
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.6" data-path="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/14-tinydbg_debug.html">
            
                <a href="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/14-tinydbg_debug.html">
            
                    
                    9.2.14 tinydbg debug
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.7" data-path="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/15-tinydbg_core1.html">
            
                <a href="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/15-tinydbg_core1.html">
            
                    
                    9.2.15 tinydbg core - part1
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.8" data-path="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/15-tinydbg_core2.html">
            
                <a href="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/15-tinydbg_core2.html">
            
                    
                    9.2.15 tinydbg core - part2
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.9" data-path="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/16-tinydbg_connect.html">
            
                <a href="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/16-tinydbg_connect.html">
            
                    
                    9.2.16 tinydbg connect
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.10" data-path="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/17-tinydbg_trace.html">
            
                <a href="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/17-tinydbg_trace.html">
            
                    
                    9.2.17 tinydbg trace
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.11" data-path="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/21-disassemble.html">
            
                <a href="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/21-disassemble.html">
            
                    
                    9.2.21 tinydbg> disass
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.12" data-path="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/22-breakpoint.html">
            
                <a href="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/22-breakpoint.html">
            
                    
                    9.2.22 tinydbg> breakpoint
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.13" data-path="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/23-breakpoints.html">
            
                <a href="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/23-breakpoints.html">
            
                    
                    9.2.23 tinydbg> breakpoints
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.14" data-path="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/24-clear.html">
            
                <a href="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/24-clear.html">
            
                    
                    9.2.24 tinydbg> clear | toggle
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.15" data-path="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/25-clearall.html">
            
                <a href="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/25-clearall.html">
            
                    
                    9.2.25 tinydbg> clearall
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.16" data-path="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/26-step.html">
            
                <a href="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/26-step.html">
            
                    
                    9.2.26 tinydbg> next | step | stepi
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.17" data-path="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/27-continue.html">
            
                <a href="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/27-continue.html">
            
                    
                    9.2.27 Continue Execution
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.18" data-path="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/28-pmem.html">
            
                <a href="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/28-pmem.html">
            
                    
                    9.2.28 View Memory
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.19" data-path="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/29-regs.html">
            
                <a href="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/29-regs.html">
            
                    
                    9.2.29 View Registers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.20" data-path="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/30-call-frame.html">
            
                <a href="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/30-call-frame.html">
            
                    
                    9.2.30 Call Frame Information
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.21" data-path="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/31-vars.html">
            
                <a href="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/31-vars.html">
            
                    
                    9.2.31 Variables & Type System
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.22" data-path="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/32-how_listfunctions_work.html">
            
                <a href="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/32-how_listfunctions_work.html">
            
                    
                    9.2.32 how ListFunctions work
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.23" data-path="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/32-funcs.html">
            
                <a href="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/32-funcs.html">
            
                    
                    9.2.32 funcs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.24" data-path="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/33-goroutines.html">
            
                <a href="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/33-goroutines.html">
            
                    
                    9.2.33 Goroutines
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.25" data-path="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/34-multi-threads.html">
            
                <a href="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/34-multi-threads.html">
            
                    
                    9.2.34 Tracing Multi-threaded Programs
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9.3" data-path="../9-develop-sym-debugger/3-é«çº§åè½æ©å±/">
            
                <a href="../9-develop-sym-debugger/3-é«çº§åè½æ©å±/">
            
                    
                    9.3 Advanced Feature Extensions
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.3.1" data-path="../9-develop-sym-debugger/3-é«çº§åè½æ©å±/100-howto_integrate_starlark.html">
            
                <a href="../9-develop-sym-debugger/3-é«çº§åè½æ©å±/100-howto_integrate_starlark.html">
            
                    
                    9.3.100 Integrating starlark
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3.2" data-path="../9-develop-sym-debugger/3-é«çº§åè½æ©å±/101-howto_tracing_via_ebpf.html">
            
                <a href="../9-develop-sym-debugger/3-é«çº§åè½æ©å±/101-howto_tracing_via_ebpf.html">
            
                    
                    9.3.101 Tracing with eBPF
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3.3" data-path="../9-develop-sym-debugger/3-é«çº§åè½æ©å±/102-howto_syntax_highlight.html">
            
                <a href="../9-develop-sym-debugger/3-é«çº§åè½æ©å±/102-howto_syntax_highlight.html">
            
                    
                    9.3.102 Implementing Syntax Highlighting
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3.4" data-path="../9-develop-sym-debugger/3-é«çº§åè½æ©å±/103-howto_paging_output.html">
            
                <a href="../9-develop-sym-debugger/3-é«çº§åè½æ©å±/103-howto_paging_output.html">
            
                    
                    9.3.103 Implementing Paged Output
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3.5" data-path="../9-develop-sym-debugger/3-é«çº§åè½æ©å±/104-howto_read_separate_dwarfdata.html">
            
                <a href="../9-develop-sym-debugger/3-é«çº§åè½æ©å±/104-howto_read_separate_dwarfdata.html">
            
                    
                    9.3.104 Reading Separately Stored DWARF Data
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3.6" data-path="../9-develop-sym-debugger/3-é«çº§åè½æ©å±/105-howto_guess_substitutepath.html">
            
                <a href="../9-develop-sym-debugger/3-é«çº§åè½æ©å±/105-howto_guess_substitutepath.html">
            
                    
                    9.3.105 Automatic Source File Path Mapping
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3.7" data-path="../9-develop-sym-debugger/3-é«çº§åè½æ©å±/106-howto_redirect_target_io.html">
            
                <a href="../9-develop-sym-debugger/3-é«çº§åè½æ©å±/106-howto_redirect_target_io.html">
            
                    
                    9.3.106 Implementing Target Process IO Redirection
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3.8" data-path="../9-develop-sym-debugger/3-é«çº§åè½æ©å±/107-howto_customize_tinydbg.html">
            
                <a href="../9-develop-sym-debugger/3-é«çº§åè½æ©å±/107-howto_customize_tinydbg.html">
            
                    
                    9.3.107 Supporting User Preferences
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3.9" data-path="../9-develop-sym-debugger/3-é«çº§åè½æ©å±/108-howto_accept_multiclient.html">
            
                <a href="../9-develop-sym-debugger/3-é«çº§åè½æ©å±/108-howto_accept_multiclient.html">
            
                    
                    9.3.108 Supporting Multi-client Debug Mode
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3.10" data-path="../9-develop-sym-debugger/3-é«çº§åè½æ©å±/109-howto_transcript_debugging.html">
            
                <a href="../9-develop-sym-debugger/3-é«çº§åè½æ©å±/109-howto_transcript_debugging.html">
            
                    
                    9.3.109 Supporting Debug Activity Logging
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="../10-extras/">
            
                <a href="../10-extras/">
            
                    
                    10 Mainstream Debugging Technology Analysis
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="../10-extras/1-development-of-debugger.html">
            
                <a href="../10-extras/1-development-of-debugger.html">
            
                    
                    10.1 Debugger Development History
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2" data-path="../10-extras/2-development-of-logging.html">
            
                <a href="../10-extras/2-development-of-logging.html">
            
                    
                    10.2 Logging System Development History
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.3" data-path="../10-extras/3-development-of-metrics.html">
            
                <a href="../10-extras/3-development-of-metrics.html">
            
                    
                    10.3 Metrics System Development History
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4" data-path="../10-extras/4-development-of-tracing.html">
            
                <a href="../10-extras/4-development-of-tracing.html">
            
                    
                    10.4 Tracing System Development History
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.5" data-path="../10-extras/5-development-of-bisect.html">
            
                <a href="../10-extras/5-development-of-bisect.html">
            
                    
                    10.5 Bisect Development History
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.6" data-path="../10-extras/6-development-of-ebpf.html">
            
                <a href="../10-extras/6-development-of-ebpf.html">
            
                    
                    10.6 eBPF Development History
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.7" data-path="../10-extras/7-development-of-replay.html">
            
                <a href="../10-extras/7-development-of-replay.html">
            
                    
                    10.7 Record and Replay Development History
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.8" data-path="../10-extras/8-development-of-debug-dsys.html">
            
                <a href="../10-extras/8-development-of-debug-dsys.html">
            
                    
                    10.8 Distributed Debugging Development History
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="../11-thanks/">
            
                <a href="../11-thanks/">
            
                    
                    11 Acknowledgments
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="../12-appendix/">
            
                <a href="../12-appendix/">
            
                    
                    12 Appendix
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.12.1" data-path="../12-appendix/1-go-programme-start.html">
            
                <a href="../12-appendix/1-go-programme-start.html">
            
                    
                    12.1 Go Program Startup Process
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.2" data-path="../12-appendix/2-auto-trace-cloned-threads.html">
            
                <a href="../12-appendix/2-auto-trace-cloned-threads.html">
            
                    
                    12.2 Automatic Thread Tracing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.3" data-path="../12-appendix/3-git-bisect.html">
            
                <a href="../12-appendix/3-git-bisect.html">
            
                    
                    12.3 git bisect
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.4" data-path="../12-appendix/80-go-tool-compile.html">
            
                <a href="../12-appendix/80-go-tool-compile.html">
            
                    
                    12.10 Compilation Toolchain/compile
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.5" data-path="../12-appendix/81-go-tool-asm.html">
            
                <a href="../12-appendix/81-go-tool-asm.html">
            
                    
                    12.11 Compilation Toolchain/asm
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.6" data-path="../12-appendix/82-go-tool-link.html">
            
                <a href="../12-appendix/82-go-tool-link.html">
            
                    
                    12.12 Compilation Toolchain/link
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.7" data-path="../12-appendix/90-why-buildid-loaded.html">
            
                <a href="../12-appendix/90-why-buildid-loaded.html">
            
                    
                    12.13 More: GNU build-id+gobuildid
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.8" data-path="../12-appendix/91-syntax-and-semantic-analysis.html">
            
                <a href="../12-appendix/91-syntax-and-semantic-analysis.html">
            
                    
                    12.14 More: Syntax Analysis vs Semantic Analysis
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.9" data-path="../12-appendix/92-why-gdb-uses-symtab.html">
            
                <a href="../12-appendix/92-why-gdb-uses-symtab.html">
            
                    
                    12.15 More: Why GDB Uses Symbol Table+DWARF
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >6.3 Launch & Attach</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h2 id="starting--attaching-to-a-process">Starting &amp; Attaching to a Process</h2>
<h3 id="implementation-goal-start-a-process-and-attach">Implementation Goal: Start a Process and Attach</h3>
<h4 id="consideration-how-to-make-a-process-stop-immediately-after-starting">Consideration: How to Make a Process Stop Immediately After Starting?</h4>
<p>The previous sections introduced starting a process using <code>exec.Command(prog, args...)</code> and attaching to a running process using the ptrace system call. Readers might wonder: does this method of starting debugging meet our debugging requirements?</p>
<p>When trying to attach to a running process, the process might have already executed instructions far beyond the point we&apos;re interested in. For example, if we want to debug and trace the initialization steps of a Go program before main.main executes, the method of starting the program first and then attaching is undoubtedly too late - main.main might have already started executing, or the program might have even finished.</p>
<p>Considering this, we need to think about whether there are issues with the implementation method in the &quot;Starting a Process&quot; section. How can we make a process stop immediately after starting to wait for debugging? If we can&apos;t achieve this, it will be difficult to perform efficient debugging.</p>
<h4 id="kernel-what-does-the-kernel-do-when-starting-a-process">Kernel: What Does the Kernel Do When Starting a Process?</h4>
<p>Starting a specified process ultimately comes down to a combination of fork+exec:</p>
<pre><code class="lang-go">cmd := exec.Command(prog, args...)
cmd.Run()
</code></pre>
<ul>
<li>cmd.Run() first creates a child process through <code>fork</code>;</li>
<li>Then the child process loads and runs the target program through the <code>execve</code> function;</li>
</ul>
<p>However, if this is all we do, the program will execute immediately, possibly without giving us any opportunity for debugging. We might not even have time to attach to the process and add breakpoints before the program finishes executing.</p>
<p>We need the target program&apos;s instructions to stop immediately before they start executing! To achieve this, we need to rely on the ptrace operation <code>PTRACE_TRACEME</code>.</p>
<h4 id="kernel-what-exactly-does-ptracetraceme-do">Kernel: What Exactly Does PTRACE_TRACEME Do?</h4>
<p>Let&apos;s first write a simple C program to illustrate this process. After this, we&apos;ll look at some kernel code to deepen our understanding of the PTRACE_TRACEME operation and the process startup process. These codes are implemented in C, and this brief example uses C to help readers get familiar with C syntax in advance.</p>
<pre><code class="lang-c"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;sys/ptrace.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;sys/types.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;sys/wait.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;unistd.h&gt;</span></span>

<span class="hljs-comment">// see /usr/include/sys/user.sh `struct user_regs_struct`</span>
define ORIG_EAX_FIELD = <span class="hljs-number">11</span>
define ORIG_EAX_ALIGN = <span class="hljs-number">8</span> <span class="hljs-comment">// 8 for x86_64, 4 for x86</span>

<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
</span>{   <span class="hljs-keyword">pid_t</span> child;
    <span class="hljs-keyword">long</span> orig_eax;
    child = fork();
    <span class="hljs-keyword">if</span>(child == <span class="hljs-number">0</span>) {
        ptrace(PTRACE_TRACEME, <span class="hljs-number">0</span>, <span class="hljs-literal">NULL</span>, <span class="hljs-literal">NULL</span>);
        execl(<span class="hljs-string">&quot;/bin/ls&quot;</span>, <span class="hljs-string">&quot;~&quot;</span>, <span class="hljs-literal">NULL</span>);
    }
    <span class="hljs-keyword">else</span> {
        wait(<span class="hljs-literal">NULL</span>);
        orig_eax = ptrace(PTRACE_PEEKUSER, child, (<span class="hljs-keyword">void</span> *)(ORIG_EAX_FIELD * ORIG_EAX_ALIGN), (<span class="hljs-keyword">void</span> *)<span class="hljs-literal">NULL</span>);
        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;The child made a system call %ld\n&quot;</span>, orig_eax);
        ptrace(PTRACE_CONT, child, <span class="hljs-literal">NULL</span>, <span class="hljs-literal">NULL</span>);
    }
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<p>In the above example, the process first performs a fork. A fork return value of 0 indicates the current process is the child process. The child process executes a <code>ptrace(PTRACE_TRACEME,...)</code> operation, asking the kernel to do something on its behalf.</p>
<p>Let&apos;s look at what the kernel actually does. Below is the definition of ptrace, with irrelevant parts omitted. If the ptrace request is PTRACE_TRACEME, the kernel will update the debug information flag bit <code>current-&gt;ptrace = PT_PTRACED</code> of the current process <code>task_struct* current</code>.</p>
<p><strong>file: /kernel/ptrace.c</strong></p>
<pre><code class="lang-c"><span class="hljs-comment">// ptrace system call implementation</span>
SYSCALL_DEFINE4(ptrace, <span class="hljs-keyword">long</span>, request, <span class="hljs-keyword">long</span>, pid, <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span>, addr,
        <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span>, data)
{
    ...

    <span class="hljs-keyword">if</span> (request == PTRACE_TRACEME) {
        ret = ptrace_traceme();
        ...
        <span class="hljs-keyword">goto</span> out;
    }
    ...

 out:
    <span class="hljs-keyword">return</span> ret;
}

<span class="hljs-comment">/**
 * ptrace_traceme is a simple wrapper function for ptrace(PTRACE_PTRACEME,...),
 * which performs checks and sets the process flag bit PT_PTRACED.
 */</span>
<span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> <span class="hljs-title">ptrace_traceme</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span>
</span>{
    ...
    <span class="hljs-comment">/* Are we already being traced? */</span>
    <span class="hljs-keyword">if</span> (!current-&gt;ptrace) {
        ...
        <span class="hljs-keyword">if</span> (!ret &amp;&amp; !(current-&gt;real_parent-&gt;flags &amp; PF_EXITING)) {
            current-&gt;ptrace = PT_PTRACED;
            ...
        }
    }
    ...
    <span class="hljs-keyword">return</span> ret;
}
</code></pre>
<h4 id="kernel-how-does-ptracetraceme-affect-execve">Kernel: How Does PTRACE_TRACEME Affect execve?</h4>
<p>In the C library functions, common exec family functions include execl, execlp, execle, execv, execvp, execvpe, all of which are implemented by the system call execve.</p>
<p>The code execution path of the execve system call roughly includes:</p>
<pre><code class="lang-c">-&gt; sys_execve
 |-&gt; do_execve
   |-&gt; do_execveat_common
</code></pre>
<p>The code execution path of the do_execveat_common function roughly includes the following, whose purpose is to replace the current process&apos;s code segment and data segment (initialized &amp; uninitialized data) with the newly loaded program, then execute the new program.</p>
<pre><code class="lang-c">-&gt; retval = bprm_mm_init(bprm);
 |-&gt; retval = prepare_binprm(bprm);
   |-&gt; retval = copy_strings_kernel(<span class="hljs-number">1</span>, &amp;bprm-&gt;filename, bprm);
     |-&gt; retval = copy_strings(bprm-&gt;envc, envp, bprm);
       |-&gt; retval = exec_binprm(bprm);
         |-&gt; retval = copy_strings(bprm-&gt;argc, argv, bprm);
</code></pre>
<p>There&apos;s quite a bit of code involved here. Let&apos;s focus on <code>exec_binprm(bprm)</code> in the above process, which contains part of the logic for executing the new program.</p>
<p><strong>file: fs/exec.c</strong></p>
<pre><code class="lang-c"><span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> <span class="hljs-title">exec_binprm</span><span class="hljs-params">(<span class="hljs-keyword">struct</span> linux_binprm *bprm)</span>
</span>{
    <span class="hljs-keyword">pid_t</span> old_pid, old_vpid;
    <span class="hljs-keyword">int</span> ret;

    <span class="hljs-comment">/* Need to fetch pid before load_binary changes it */</span>
    old_pid = current-&gt;pid;
    rcu_read_lock();
    old_vpid = task_pid_nr_ns(current, task_active_pid_ns(current-&gt;parent));
    rcu_read_unlock();

    ret = search_binary_handler(bprm);
    <span class="hljs-keyword">if</span> (ret &gt;= <span class="hljs-number">0</span>) {
        audit_bprm(bprm);
        trace_sched_process_exec(current, old_pid, bprm);
        ptrace_event(PTRACE_EVENT_EXEC, old_vpid);
        proc_exec_connector(current);
    }

    <span class="hljs-keyword">return</span> ret;
}
</code></pre>
<p>Here, <code>exec_binprm(bprm)</code> internally calls <code>ptrace_event(PTRACE_EVENT_EXEC, message)</code>, which checks the process&apos;s ptrace status. Once it finds that the process&apos;s ptrace flag bit is set to PT_PTRACED, the kernel will send a SIGTRAP signal to the process, thus entering the SIGTRAP signal handling logic.</p>
<p><strong>file: include/linux/ptrace.h</strong></p>
<pre><code class="lang-c"><span class="hljs-comment">/**
 * ptrace_event - possibly stop for a ptrace event notification
 * @event:    %PTRACE_EVENT_* value to report
 * @message:    value for %PTRACE_GETEVENTMSG to return
 *
 * Check whether @event is enabled and, if so, report @event and @message
 * to the ptrace parent.
 *
 * Called without locks.
 */</span>
<span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">inline</span> <span class="hljs-keyword">void</span> <span class="hljs-title">ptrace_event</span><span class="hljs-params">(<span class="hljs-keyword">int</span> event, <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> message)</span>
</span>{
    <span class="hljs-keyword">if</span> (unlikely(ptrace_event_enabled(current, event))) {
        current-&gt;ptrace_message = message;
        ptrace_notify((event &lt;&lt; <span class="hljs-number">8</span>) | SIGTRAP);
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (event == PTRACE_EVENT_EXEC) {
        <span class="hljs-comment">/* legacy EXEC report via SIGTRAP */</span>
        <span class="hljs-keyword">if</span> ((current-&gt;ptrace &amp; (PT_PTRACED|PT_SEIZED)) == PT_PTRACED)
            send_sig(SIGTRAP, current, <span class="hljs-number">0</span>);
    }
}
</code></pre>
<p>In Linux, the SIGTRAP signal will cause the process to pause execution and notify its parent process of its state change. The parent process obtains the child process&apos;s state change information through the wait system call.</p>
<pre><code class="lang-bash">|-&gt; ptrace_notify
    |-&gt; ptrace_<span class="hljs-keyword">do</span>_notify
        |-&gt; ptrace_stop
            |-&gt; <span class="hljs-keyword">do</span>_notify_parent_cldstop
</code></pre>
<p>Let&apos;s take a final look at how the function ptrace_stop -&gt; do_notify_parent_cldstop() that notifies the tracer or its real parent process is implemented:</p>
<pre><code class="lang-c"><span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> <span class="hljs-title">ptrace_stop</span><span class="hljs-params">(<span class="hljs-keyword">int</span> exit_code, <span class="hljs-keyword">int</span> why, <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> message,
               kernel_siginfo_t *info)</span>
    __<span class="hljs-title">releases</span><span class="hljs-params">(&amp;current-&gt;sighand-&gt;siglock)</span>
    __<span class="hljs-title">acquires</span><span class="hljs-params">(&amp;current-&gt;sighand-&gt;siglock)</span>
</span>{
    ...

    <span class="hljs-comment">/*
     * Notify parents of the stop.
     *
     * While ptraced, there are two parents - the ptracer and
     * the real_parent of the group_leader.  The ptracer should
     * know about every stop while the real parent is only
     * interested in the completion of group stop.  The states
     * for the two don&apos;t interact with each other.  Notify
     * separately unless they&apos;re gonna be duplicates.
     */</span>
    <span class="hljs-keyword">if</span> (current-&gt;ptrace)
        do_notify_parent_cldstop(current, <span class="hljs-literal">true</span>, why);
    <span class="hljs-keyword">if</span> (gstop_done &amp;&amp; (!current-&gt;ptrace || ptrace_reparented(current)))
        do_notify_parent_cldstop(current, <span class="hljs-literal">false</span>, why);
    ...
}

<span class="hljs-comment">/**
 * do_notify_parent_cldstop - notify parent of stopped/continued state change
 * @tsk: task reporting the state change
 * @for_ptracer: the notification is for ptracer
 * @why: CLD_{CONTINUED|STOPPED|TRAPPED} to report
 *
 * Notify @tsk&apos;s parent that the stopped/continued state has changed.  If
 * @for_ptracer is %false, @tsk&apos;s group leader notifies to its real parent.
 * If %true, @tsk reports to @tsk-&gt;parent which should be the ptracer.
 *
 * CONTEXT:
 * Must be called with tasklist_lock at least read locked.
 */</span>
<span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">do_notify_parent_cldstop</span><span class="hljs-params">(<span class="hljs-keyword">struct</span> task_struct *tsk,
                     <span class="hljs-keyword">bool</span> for_ptracer, <span class="hljs-keyword">int</span> why)</span>
</span>{
    ...
    <span class="hljs-keyword">if</span> (for_ptracer) {
        parent = tsk-&gt;parent;
    } <span class="hljs-keyword">else</span> {
        tsk = tsk-&gt;group_leader;
        parent = tsk-&gt;real_parent;
    }

    clear_siginfo(&amp;info);
    info.si_signo = SIGCHLD;
    info.si_errno = <span class="hljs-number">0</span>;
    info.si_pid = task_pid_nr_ns(tsk, task_active_pid_ns(parent));
    info.si_uid = from_kuid_munged(task_cred_xxx(parent, user_ns), task_uid(tsk));
    info.si_utime = <span class="hljs-keyword">nsec_to_clock_t</span>(utime);
    info.si_stime = <span class="hljs-keyword">nsec_to_clock_t</span>(stime);

     info.si_code = why;
     <span class="hljs-keyword">switch</span> (why) {
     <span class="hljs-keyword">case</span> CLD_CONTINUED:
         info.si_status = SIGCONT;
         <span class="hljs-keyword">break</span>;
     <span class="hljs-keyword">case</span> CLD_STOPPED:
         info.si_status = tsk-&gt;signal-&gt;group_exit_code &amp; <span class="hljs-number">0x7f</span>;
         <span class="hljs-keyword">break</span>;
     <span class="hljs-keyword">case</span> CLD_TRAPPED:
         info.si_status = tsk-&gt;exit_code &amp; <span class="hljs-number">0x7f</span>;
         <span class="hljs-keyword">break</span>;
     <span class="hljs-keyword">default</span>:
         BUG();
     }

    sighand = parent-&gt;sighand;
    <span class="hljs-keyword">if</span> (sighand-&gt;action[SIGCHLD<span class="hljs-number">-1</span>].sa.sa_handler != SIG_IGN &amp;&amp;
        !(sighand-&gt;action[SIGCHLD<span class="hljs-number">-1</span>].sa.sa_flags &amp; SA_NOCLDSTOP))
        send_signal_locked(SIGCHLD, &amp;info, parent, PIDTYPE_TGID);
    <span class="hljs-comment">/*
     * Even if SIGCHLD is not generated, we must wake up wait4 calls.
     */</span>
    __wake_up_parent(tsk, parent);
    ...
}
</code></pre>
<p>&#x8FD9;&#x91CC;&#x7684;tracee&#x901A;&#x77E5;tracer&#xFF08;&#x6216;&#x8005;&#x7236;&#x8FDB;&#x7A0B;&#xFF09;&#x6211;&#x5DF2;&#x7ECF;&#x505C;&#x4E0B;&#x6765;&#x4E86;&#xFF0C;&#x662F;&#x901A;&#x8FC7;&#x53D1;&#x9001;&#x4FE1;&#x53F7; SIGCHLD &#x7684;&#x65B9;&#x5F0F;&#x6765;&#x901A;&#x77E5;&#x7684;&#x3002;</p>
<p>&#x90A3;&#x4E48;tracer&#xFF08;&#x6216;&#x8005;&#x7236;&#x8FDB;&#x7A0B;&#xFF09;wait4 &#x7684;&#x5B9E;&#x73B0;&#xFF0C;&#x662F;&#x600E;&#x4E48;&#x5B9E;&#x73B0;&#x7684;&#x5462;? &#x6211;&#x4EEC;&#x8FD9;&#x91CC;&#x4E5F;&#x8FDB;&#x884C;&#x4E86;&#x4E00;&#x4E2A;&#x7CBE;&#x7B80;&#x7248;&#x7684;&#x603B;&#x7ED3;&#x3002;</p>
<p>Simply put, the tracer or parent process adds itself to a wait queue for child process state changes, then sets itself to the &quot;INTERRUPTIBLE&quot; state, meaning it can be awakened by signals, such as the SIGCHLD signal. Then the tracer calls process scheduling once, yielding the CPU to wait until the tracee stops due to PTRACE_TRACEME and sends a SIGCHLD signal to notify the tracer, at which point the tracer is awakened and executes the signal handler.</p>
<p>At this point, the tracer will change itself from the &quot;INTERRUPTIBLE&quot; state to the &quot;RUNNING&quot; state, remove itself from the wait queue for tracee state changes, and wait to be scheduled by the scheduler.</p>
<p>Then, after the tracer&apos;s syscall.Wait4 operation completes, it can continue with subsequent ptrace operations.</p>
<h4 id="put-it-together">Put it Together</h4>
<p>Now, let&apos;s review the entire process and straighten it out by combining the above example.</p>
<p>First, after the parent process calls fork and the child process is successfully created, it is in the ready state and can run. Then, the child process first executes <code>ptrace(PTRACE_TRACEME, ...)</code> to tell the kernel &quot;<strong>The current process wants to stop after executing the new program, waiting for the parent process&apos;s ptrace operation, so please notify me when it&apos;s time to stop</strong>&quot;. The child process then executes execve to load the new program and reinitialize the process execution required code segment, data segment, etc.</p>
<p>Before the new program is initialized, the kernel will adjust the process status to &quot;<strong>UnInterruptible Wait</strong>&quot; to prevent it from being scheduled and responding to external signals. After completion, it will be adjusted to &quot;<strong>Interruptible Wait</strong>&quot;, meaning that if a signal arrives, the process is allowed to handle the signal.</p>
<p>Next, if the process does not have special ptrace flag bits, the child process status will be updated to runnable waiting for next scheduling. When the kernel finds that the child process ptrace flag bit is PT_PTRACED, the kernel will execute such logic: the kernel sends a <strong>SIGTRAP</strong> signal to this child process, which will be added to the process&apos;s pending signal queue, and try to wake up the process. When the kernel task scheduler schedules to this process, it finds that there is a pending signal arrival, and will execute the SIGTRAP signal handling logic, although SIGTRAP is special and is handled by the kernel.</p>
<p><strong>What does SIGTRAP signal handling specifically do?</strong> It will pause the target process execution and notify its parent process of its state change through SIGCHLD signal. Note that the parent process calls <code>ptrace(PTRACE_ATTACH, ...)</code> operation does not wait for tracee to stop. The parent process obtains the tracee state change information through the system call wait, and at this time the tracee might not have stopped. tracer calls wait will change tracer status to &quot;<strong>Interruptible Wait</strong>&quot;, and current tracer will be added to tracee process state change waiting queue. Until the previous mentioned kernel processing tracee SIGTRAP signal and stopping it, then sending SIGCHLD signal to notify tracer to wake up tracer.</p>
<p>At this point, tracer is awakened, and wait can return the tracee process state change information. tracer finds that tracee process has stopped (and because of SIGTRAP stopped), can initiate subsequent ptrace operation corresponding to tracer debugging command, such as reading and writing memory data.</p>
<h3 id="code-implementation">Code Implementation</h3>
<p><strong>Source code see: golang-debugger-lessons/3_process_startattach</strong></p>
<p>Similar to the C language fork+exec approach, the Go standard library provides a ForkExec function implementation, allowing us to rewrite the above C language example in Go. However, the Go standard library provides another more concise way.</p>
<p>We first get a cmd object through <code>cmd := exec.Command(prog, args...)</code>, and open the process flag bit <code>cmd.SysProcAttr.Ptrace=true</code> before starting the process with <code>cmd.Start()</code>, then start the process with <code>cmd.Start()</code>, and finally call <code>Wait</code> function to wait for the child process (because SIGTRAP) to stop and get the child process status.</p>
<p>After this, the parent process can continue to do some debugging related work, such as reading and writing memory, etc.</p>
<p>Here&apos;s the example code, which is modified from the previous example code:</p>
<pre><code class="lang-go"><span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> (
    <span class="hljs-string">&quot;fmt&quot;</span>
    <span class="hljs-string">&quot;os&quot;</span>
    <span class="hljs-string">&quot;os/exec&quot;</span>
    <span class="hljs-string">&quot;syscall&quot;</span>
)

<span class="hljs-keyword">func</span> main() {
    <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(os.Args) &lt; <span class="hljs-number">3</span> {
        fmt.Fprintf(os.Stderr, <span class="hljs-string">&quot;Usage: %s exec &lt;prog&gt; [args...]\n&quot;</span>, os.Args[<span class="hljs-number">0</span>])
        os.Exit(<span class="hljs-number">1</span>)
    }

    cmd := exec.Command(os.Args[<span class="hljs-number">2</span>], os.Args[<span class="hljs-number">3</span>:]...)
    cmd.SysProcAttr = &amp;syscall.SysProcAttr{
        Ptrace: <span class="hljs-literal">true</span>,
    }

    err := cmd.Start()
    <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
        fmt.Fprintf(os.Stderr, <span class="hljs-string">&quot;start error: %v\n&quot;</span>, err)
        os.Exit(<span class="hljs-number">1</span>)
    }

    <span class="hljs-keyword">var</span> (
        status syscall.WaitStatus
        rusage syscall.Rusage
    )
    _, err = syscall.Wait4(cmd.Process.Pid, &amp;status, syscall.WSTOPPED, &amp;rusage)
    <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
        fmt.Fprintf(os.Stderr, <span class="hljs-string">&quot;wait error: %v\n&quot;</span>, err)
        os.Exit(<span class="hljs-number">1</span>)
    }

    fmt.Printf(<span class="hljs-string">&quot;process %d stopped: %v\n&quot;</span>, cmd.Process.Pid, status.Stopped())

    <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> implement debug session</span>
    fmt.Println(<span class="hljs-string">&quot;debug session started...&quot;</span>)
    fmt.Println(<span class="hljs-string">&quot;type &apos;exit&apos; to quit&quot;</span>)

    <span class="hljs-comment">// Simple debug session</span>
    <span class="hljs-keyword">for</span> {
        <span class="hljs-keyword">var</span> input <span class="hljs-keyword">string</span>
        fmt.Print(<span class="hljs-string">&quot;godbg&gt; &quot;</span>)
        fmt.Scanln(&amp;input)
        <span class="hljs-keyword">if</span> input == <span class="hljs-string">&quot;exit&quot;</span> {
            <span class="hljs-keyword">break</span>
        }
    }

    <span class="hljs-comment">// Let the process continue</span>
    err = syscall.PtraceCont(cmd.Process.Pid, <span class="hljs-number">0</span>)
    <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
        fmt.Fprintf(os.Stderr, <span class="hljs-string">&quot;continue error: %v\n&quot;</span>, err)
        os.Exit(<span class="hljs-number">1</span>)
    }
}
</code></pre>
<h3 id="code-testing">Code Testing</h3>
<p>Next, we test the adjusted code:</p>
<pre><code class="lang-bash">$ go build -o godbg main.go
$ ./godbg <span class="hljs-built_in">exec</span> ls
process 2479 stopped: <span class="hljs-literal">true</span>
debug session started...
<span class="hljs-built_in">type</span> <span class="hljs-string">&apos;exit&apos;</span> to quit
godbg&gt; <span class="hljs-built_in">exit</span>
cmd go.mod go.sum LICENSE main.go syms target
</code></pre>
<p>First, we enter the example code directory to compile and install godbg, then run <code>godbg exec ls</code>, intending to debug the PATH executable program <code>ls</code>.</p>
<p>godbg will start the ls process and stop it (through SIGTRAP) by PTRACE_TRACEME, and we can see from the debugger output <code>process 2479 stopped: true</code>, indicating that the process pid 2479 has stopped executing.</p>
<p>And also started a debugging session, the terminal command prompt should become <code>godbg&gt;</code>, indicating that the debugging session is waiting for user input debugging command, we have not implemented other debugging commands except <code>exit</code> command, we input <code>exit</code> to exit the debugging session.</p>
<blockquote>
<p>NOTE: About debugging session</p>
<p>Here, the debugging session allows user input debugging command, all user input will be passed to cobra generated debugRootCmd processing, debugRootCmd contains many subcmd, such as breakpoint, list, continue, step, etc. debugging commands.</p>
<p>At the time of writing this document, we are still based on cobra-prompt to manage debugging session command and input completion, after we input some information, prompt will process our input and pass it to debugRootCmd registered same name command for processing.</p>
<p>For example, we input exit, then debugRootCmd registered exitCmd will be called for processing. exitCmd just executes os.Exit(0) to let process exit, before exiting, the kernel will automatically do some cleanup operations, such as tracee being tracked by it will be automatically removed from tracking by the kernel, allowing tracee to continue executing.</p>
</blockquote>
<p>When we exit the debugging session, we will use <code>ptrace(PTRACE_COND,...)</code> operation to restore the tracee execution, that is, ls normal execution command to list the files in the directory, we also saw it output the current directory file information <code>cmd go.mod go.sum LICENSE main.go syms target</code>.</p>
<p><code>godbg exec &lt;prog&gt;</code> command is now all right!</p>
<blockquote>
<p>NOTE: In the example, the program exits without displaying a call to <code>ptrace(PTRACE_COND,...)</code> to restore tracee execution. In fact, if tracee is still there when tracer exits, the kernel will automatically remove tracee tracking state.</p>
<p>If tracee is our display (not attach), then we should kill the process (or allow the choice to kill the process or let it continue executing) instead of defaulting to continue executing.</p>
</blockquote>
<p>Again, if we exec execute a go program, how should we handle it? Because go program is naturally multi-threaded program, from its main thread startup to create other gc, sysmon, execute numerous goroutines threads is a process, then this process we are difficult to perceive human, how does the debugger automatically start ptrace attach for these numerous threads created in the process?</p>
<p>There&apos;s no good way, as a normal user program, the debugger can only request the operating system to provide services on behalf of it, this involves the specific ptrace attach options <code>PTRACE_O_TRACECLONE</code>. Adding this option will cause the kernel to send necessary signals to the new thread when the tracee is cloned, and when the new thread is scheduled, it will naturally stop.</p>
<blockquote>
<p><strong>PTRACE_O_TRACECLONE</strong>:</p>
<p>Stop the tracee at the next clone(2) and automatically start tracing the newly cloned process, which will start with a SIGSTOP, or PTRACE_EVENT_STOP if PTRACE_SEIZE was used.</p>
</blockquote>
<h3 id="this-section-summary">This Section Summary</h3>
<p>This section implements a complete &quot;start, track&quot; implementation principle, code explanation, example demonstration. This section uses start+attach or exec+attach expressions, doing this is just to highlight the layered relationship of the section content.</p>
<p>Strictly speaking, we should use trace instead of attach expression. Because attach will mislead readers to think that it is tracer actively <code>ptrace(PTRACE_ATTACH,)</code> implemented, it is actually tracee actively <code>ptrace(PTRACE_TRACEME,)</code> implemented. However, attach is more in line with people&apos;s habits, so we still use attach this term.</p>
<p>Also for multi-thread debugging, if we want new threads created automatically to be traced, we need tracer to execute system call <code>syscall.PtraceSetOptions(traceePID, syscall.PTRACE_O_TRACECLONE)</code> to complete the tracee setting, so that when tracee internal new threads, the kernel will automatically handle it to stop and notify tracer. In addition, for better debugging, usually tracer launch tracee after immediately attach tracee, then immediately set PTRACE_O_TRACECLONE option for tracee, so it&apos;s foolproof, tracee and its started threads will be under tracer tracking.</p>
<blockquote>
<p>ps: We will see if there is a need to specially open a small section, corresponding demo &#x2026;&#x2026; Actually, our final demo has this part of code, comment explanation.</p>
</blockquote>
<h3 id="reference-content">Reference Content</h3>
<ul>
<li>Playing with ptrace, Part I, Pradeep Padala, <a href="https://www.linuxjournal.com/article/6100" target="_blank">https://www.linuxjournal.com/article/6100</a></li>
<li>Playing with ptrace, Part II, Pradeep Padala, <a href="https://www.linuxjournal.com/article/6210" target="_blank">https://www.linuxjournal.com/article/6210</a></li>
<li>Understanding Linux Execve System Call, Wenbo Shen, <a href="https://wenboshen.org/posts/2016-09-15-kernel-execve.html" target="_blank">https://wenboshen.org/posts/2016-09-15-kernel-execve.html</a></li>
</ul>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="2-process_attach.html" class="navigation navigation-prev " aria-label="Previous page: 6.2 Process Attach">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="4-debug-session.html" class="navigation navigation-next " aria-label="Next page: 6.4 Debug Session">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"6.3 Launch & Attach","level":"1.6.3","depth":2,"next":{"title":"6.4 Debug Session","level":"1.6.4","depth":2,"path":"6-develop-inst-debugger/4-debug-session.md","ref":"6-develop-inst-debugger/4-debug-session.md","articles":[]},"previous":{"title":"6.2 Process Attach","level":"1.6.2","depth":2,"path":"6-develop-inst-debugger/2-process_attach.md","ref":"6-develop-inst-debugger/2-process_attach.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["md-toc","github"],"pluginsConfig":{"github":{"url":"https://github.com/hitzhangjie/golang-debugger-book"},"intopic-toc":{"selector":".markdown-section h1, .markdown-section h2, .markdown-section h3, .markdown-section h4, .markdown-section h5, .markdown-section h6","visible":true,"label":{"en":"In This Article","zh":"æ¬æç®å½"}},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"md-toc":{"label":"In this article","selector":".markdown-section h2","visible":true},"fontsettings":{"theme":"white","family":"sans","size":2},"highlight":{},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"6-develop-inst-debugger/3-process_start_attach.md","mtime":"2025-06-17T03:44:29.812Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2025-06-17T03:48:05.806Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-md-toc/anchor.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-md-toc/gumshoe.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-md-toc/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>



<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>6.4 Debug Session Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-md-toc/style.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="5-disassemble.html" />
    
    
    <link rel="prev" href="3-process_start_attach.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    1 Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../2-preface/">
            
                <a href="../2-preface/">
            
                    
                    2 Preface
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../3-terms/">
            
                <a href="../3-terms/">
            
                    
                    3 Common Terms
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../4-basics/">
            
                <a href="../4-basics/">
            
                    
                    4 Software Debugging Basics
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../4-basics/1-purposes.html">
            
                <a href="../4-basics/1-purposes.html">
            
                    
                    4.1 Debugging Purposes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../4-basics/2-dependencies.html">
            
                <a href="../4-basics/2-dependencies.html">
            
                    
                    4.2 Debugging Dependencies
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../4-basics/3-countertactics.html">
            
                <a href="../4-basics/3-countertactics.html">
            
                    
                    4.3 Anti-Debugging Techniques
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../5-debugger-skeleton/">
            
                <a href="../5-debugger-skeleton/">
            
                    
                    5 Entering Debugger Development
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../5-debugger-skeleton/1-debugger_skeleton.html">
            
                <a href="../5-debugger-skeleton/1-debugger_skeleton.html">
            
                    
                    5.1 Debugger Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../5-debugger-skeleton/2-debugger_demo.html">
            
                <a href="../5-debugger-skeleton/2-debugger_demo.html">
            
                    
                    5.2 Debugger Example
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="./">
            
                <a href="./">
            
                    
                    6 Developing Go Instruction-Level Debugger
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="1-process_start.html">
            
                <a href="1-process_start.html">
            
                    
                    6.1 Process Launch
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="2-process_attach.html">
            
                <a href="2-process_attach.html">
            
                    
                    6.2 Process Attach
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="3-process_start_attach.html">
            
                <a href="3-process_start_attach.html">
            
                    
                    6.3 Launch & Attach
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.6.4" data-path="4-debug-session.html">
            
                <a href="4-debug-session.html">
            
                    
                    6.4 Debug Session
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.5" data-path="5-disassemble.html">
            
                <a href="5-disassemble.html">
            
                    
                    6.5 Disassembly
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.6" data-path="6-breakpoint.html">
            
                <a href="6-breakpoint.html">
            
                    
                    6.6 Adding Breakpoints
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.7" data-path="7-breakpoints.html">
            
                <a href="7-breakpoints.html">
            
                    
                    6.7 Listing Breakpoints
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.8" data-path="8-clear.html">
            
                <a href="8-clear.html">
            
                    
                    6.8 Removing Breakpoints
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.9" data-path="9-clearall.html">
            
                <a href="9-clearall.html">
            
                    
                    6.9 Clearing All Breakpoints
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.10" data-path="10-step.html">
            
                <a href="10-step.html">
            
                    
                    6.10 Stepping Operations
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.11" data-path="11-continue.html">
            
                <a href="11-continue.html">
            
                    
                    6.11 Running to Breakpoint
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.12" data-path="12-pmem.html">
            
                <a href="12-pmem.html">
            
                    
                    6.12 Printing Memory Data
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.13" data-path="13-pregs.html">
            
                <a href="13-pregs.html">
            
                    
                    6.13 Printing Register Data
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.14" data-path="14-set-mem.html">
            
                <a href="14-set-mem.html">
            
                    
                    6.14 Modifying Memory Data
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.15" data-path="15-set-regs.html">
            
                <a href="15-set-regs.html">
            
                    
                    6.15 Modifying Register Data
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.16" data-path="20-trace_new_threads.html">
            
                <a href="20-trace_new_threads.html">
            
                    
                    6.20 Tracing Multi-threaded Programs 1
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.17" data-path="21-trace_old_threads.html">
            
                <a href="21-trace_old_threads.html">
            
                    
                    6.21 Tracing Multi-threaded Programs 2
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.18" data-path="80-aslr.html">
            
                <a href="80-aslr.html">
            
                    
                    6.80 Understanding ASLR
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.19" data-path="99-more.html">
            
                <a href="99-more.html">
            
                    
                    6.99 More...
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../7-headto-sym-debugger/">
            
                <a href="../7-headto-sym-debugger/">
            
                    
                    7 Advancing to Symbol-Level Debugger
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../7-headto-sym-debugger/1-how-go-build-works.html">
            
                <a href="../7-headto-sym-debugger/1-how-go-build-works.html">
            
                    
                    7.1 Go Build Internals
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="../7-headto-sym-debugger/2-elf.html">
            
                <a href="../7-headto-sym-debugger/2-elf.html">
            
                    
                    7.2 Understanding ELF Files
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="../7-headto-sym-debugger/3-syms.html">
            
                <a href="../7-headto-sym-debugger/3-syms.html">
            
                    
                    7.3 Symbols & Symbol Tables
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.4" data-path="../7-headto-sym-debugger/4-syms-resolve-reloc.html">
            
                <a href="../7-headto-sym-debugger/4-syms-resolve-reloc.html">
            
                    
                    7.4 Symbol Resolution & Relocation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.5" data-path="../7-headto-sym-debugger/5-loading.html">
            
                <a href="../7-headto-sym-debugger/5-loading.html">
            
                    
                    7.5 Loading
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.6" data-path="../7-headto-sym-debugger/6-gopkg-debug/">
            
                <a href="../7-headto-sym-debugger/6-gopkg-debug/">
            
                    
                    7.6 Go Standard Library debug/*
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.6.1" data-path="../7-headto-sym-debugger/6-gopkg-debug/1-elf.html">
            
                <a href="../7-headto-sym-debugger/6-gopkg-debug/1-elf.html">
            
                    
                    7.6.1 debug/elf
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.6.2" data-path="../7-headto-sym-debugger/6-gopkg-debug/2-gosym.html">
            
                <a href="../7-headto-sym-debugger/6-gopkg-debug/2-gosym.html">
            
                    
                    7.6.2 debug/gosym
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.6.3" data-path="../7-headto-sym-debugger/6-gopkg-debug/3-dwarf.html">
            
                <a href="../7-headto-sym-debugger/6-gopkg-debug/3-dwarf.html">
            
                    
                    7.6.3 debug/dwarf
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7.7" data-path="../7-headto-sym-debugger/7-headto-dwarf/">
            
                <a href="../7-headto-sym-debugger/7-headto-dwarf/">
            
                    
                    7.7 Advancing to DWARF
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.7.1" data-path="../7-headto-sym-debugger/7-headto-dwarf/1-gopkgs-about-dwarf.html">
            
                <a href="../7-headto-sym-debugger/7-headto-dwarf/1-gopkgs-about-dwarf.html">
            
                    
                    7.7.1 Related Go Packages
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.7.2" data-path="../7-headto-sym-debugger/7-headto-dwarf/2-delve-into-internals.html">
            
                <a href="../7-headto-sym-debugger/7-headto-dwarf/2-delve-into-internals.html">
            
                    
                    7.7.2 How to Crack Those Details
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.7.3" data-path="../7-headto-sym-debugger/7-headto-dwarf/3-compiler-gen-dwarfdata.html">
            
                <a href="../7-headto-sym-debugger/7-headto-dwarf/3-compiler-gen-dwarfdata.html">
            
                    
                    7.7.3 Compiler Generated DWARF Data
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.7.4" data-path="../7-headto-sym-debugger/7-headto-dwarf/4-linker-gen-dwarfdata.html">
            
                <a href="../7-headto-sym-debugger/7-headto-dwarf/4-linker-gen-dwarfdata.html">
            
                    
                    7.7.4 Linker Generated DWARF Data
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.7.5" data-path="../7-headto-sym-debugger/7-headto-dwarf/5-headto-dwarf.html">
            
                <a href="../7-headto-sym-debugger/7-headto-dwarf/5-headto-dwarf.html">
            
                    
                    7.7.5 Understanding DWARF
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../8-dwarf/">
            
                <a href="../8-dwarf/">
            
                    
                    8 Debug Information Standard: DWARF
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="../8-dwarf/1-history.html">
            
                <a href="../8-dwarf/1-history.html">
            
                    
                    8.1 DWARF Development History
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="../8-dwarf/2-overview.html">
            
                <a href="../8-dwarf/2-overview.html">
            
                    
                    8.2 DWARF Content Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="../8-dwarf/3-dwarfdata.html">
            
                <a href="../8-dwarf/3-dwarfdata.html">
            
                    
                    8.3 DWARF Data Classification
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4" data-path="../8-dwarf/4-die/">
            
                <a href="../8-dwarf/4-die/">
            
                    
                    8.4 DIE Detailed Introduction
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.4.1" data-path="../8-dwarf/4-die/1-desc-data-type.html">
            
                <a href="../8-dwarf/4-die/1-desc-data-type.html">
            
                    
                    8.4.1 DIE Describing Data and Types
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.2" data-path="../8-dwarf/4-die/2-desc-locations.html">
            
                <a href="../8-dwarf/4-die/2-desc-locations.html">
            
                    
                    8.4.2 Location Data
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.3" data-path="../8-dwarf/4-die/3-desc-code.html">
            
                <a href="../8-dwarf/4-die/3-desc-code.html">
            
                    
                    8.4.3 DIE Describing Executable Code
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.4" data-path="../8-dwarf/4-die/4-encoding.html">
            
                <a href="../8-dwarf/4-die/4-encoding.html">
            
                    
                    8.4.4 DIE Data Encoding
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8.5" data-path="../8-dwarf/5-other/">
            
                <a href="../8-dwarf/5-other/">
            
                    
                    8.5 Other Debug Data
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.5.1" data-path="../8-dwarf/5-other/1-accelerated-access.html">
            
                <a href="../8-dwarf/5-other/1-accelerated-access.html">
            
                    
                    8.5.1 Accelerated Access
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5.2" data-path="../8-dwarf/5-other/2-lineno-table.html">
            
                <a href="../8-dwarf/5-other/2-lineno-table.html">
            
                    
                    8.5.2 Line Number Table Information
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5.3" data-path="../8-dwarf/5-other/3-callframe-info.html">
            
                <a href="../8-dwarf/5-other/3-callframe-info.html">
            
                    
                    8.5.3 Call Frame Information
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5.4" data-path="../8-dwarf/5-other/4-macro-info.html">
            
                <a href="../8-dwarf/5-other/4-macro-info.html">
            
                    
                    8.5.4 Macro Information
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5.5" data-path="../8-dwarf/5-other/5-varlen-data.html">
            
                <a href="../8-dwarf/5-other/5-varlen-data.html">
            
                    
                    8.5.5 Variable Length Data
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5.6" data-path="../8-dwarf/5-other/6-shrink-data.html">
            
                <a href="../8-dwarf/5-other/6-shrink-data.html">
            
                    
                    8.5.6 Compressed DWARF Data
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5.7" data-path="../8-dwarf/5-other/7-elf-sections.html">
            
                <a href="../8-dwarf/5-other/7-elf-sections.html">
            
                    
                    8.5.7 ELF Sections
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8.6" data-path="../8-dwarf/6-practices.html">
            
                <a href="../8-dwarf/6-practices.html">
            
                    
                    8.6 DWARF Parsing and Applications
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.7" data-path="../8-dwarf/7-summary.html">
            
                <a href="../8-dwarf/7-summary.html">
            
                    
                    8.7 Summary
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="../9-develop-sym-debugger/">
            
                <a href="../9-develop-sym-debugger/">
            
                    
                    9 Developing Go Symbol-Level Debugger
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="../9-develop-sym-debugger/1-æ¶æè®¾è®¡/">
            
                <a href="../9-develop-sym-debugger/1-æ¶æè®¾è®¡/">
            
                    
                    9.1 Architecture Design
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1.1" data-path="../9-develop-sym-debugger/1-æ¶æè®¾è®¡/1-ç°ä»£è°è¯å¨æ¶æ.html">
            
                <a href="../9-develop-sym-debugger/1-æ¶æè®¾è®¡/1-ç°ä»£è°è¯å¨æ¶æ.html">
            
                    
                    9.1.1 Modern Debugger Architecture
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.1.2" data-path="../9-develop-sym-debugger/1-æ¶æè®¾è®¡/2-åç«¯UIå±è®¾è®¡.html">
            
                <a href="../9-develop-sym-debugger/1-æ¶æè®¾è®¡/2-åç«¯UIå±è®¾è®¡.html">
            
                    
                    9.1.2 Frontend UI Layer Design
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.1.3" data-path="../9-develop-sym-debugger/1-æ¶æè®¾è®¡/3-Serviceå±è®¾è®¡.html">
            
                <a href="../9-develop-sym-debugger/1-æ¶æè®¾è®¡/3-Serviceå±è®¾è®¡.html">
            
                    
                    9.1.3 Service Layer Design
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.1.4" data-path="../9-develop-sym-debugger/1-æ¶æè®¾è®¡/4-åç«¯ç¬¦å·å±è®¾è®¡.html">
            
                <a href="../9-develop-sym-debugger/1-æ¶æè®¾è®¡/4-åç«¯ç¬¦å·å±è®¾è®¡.html">
            
                    
                    9.1.4 Backend Symbol Layer Design
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.1.5" data-path="../9-develop-sym-debugger/1-æ¶æè®¾è®¡/5-åç«¯ç®æ å±è®¾è®¡.html">
            
                <a href="../9-develop-sym-debugger/1-æ¶æè®¾è®¡/5-åç«¯ç®æ å±è®¾è®¡.html">
            
                    
                    9.1.5 Backend Target Layer Design
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.1.6" data-path="../9-develop-sym-debugger/1-æ¶æè®¾è®¡/6-æ¥å¿ç³»ç»è®¾è®¡.html">
            
                <a href="../9-develop-sym-debugger/1-æ¶æè®¾è®¡/6-æ¥å¿ç³»ç»è®¾è®¡.html">
            
                    
                    9.1.6 Logging System Design
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/">
            
                <a href="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/">
            
                    
                    9.2 Core Debugging Logic
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.2.1" data-path="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/00-cmds.html">
            
                <a href="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/00-cmds.html">
            
                    
                    9.2.00 Core Debugging Commands
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.2" data-path="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/01-debug-session.html">
            
                <a href="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/01-debug-session.html">
            
                    
                    9.2.01 Opening Debug Session
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.3" data-path="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/11-tinydbg_attach.html">
            
                <a href="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/11-tinydbg_attach.html">
            
                    
                    9.2.11 tinydbg attach
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.4" data-path="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/12-tinydbg_attach_waitfor.html">
            
                <a href="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/12-tinydbg_attach_waitfor.html">
            
                    
                    9.2.12 tinydbg attach+waitfor
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.5" data-path="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/13-tinydbg_exec.html">
            
                <a href="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/13-tinydbg_exec.html">
            
                    
                    9.2.13 tinydbg exec
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.6" data-path="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/14-tinydbg_debug.html">
            
                <a href="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/14-tinydbg_debug.html">
            
                    
                    9.2.14 tinydbg debug
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.7" data-path="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/15-tinydbg_core1.html">
            
                <a href="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/15-tinydbg_core1.html">
            
                    
                    9.2.15 tinydbg core - part1
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.8" data-path="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/15-tinydbg_core2.html">
            
                <a href="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/15-tinydbg_core2.html">
            
                    
                    9.2.15 tinydbg core - part2
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.9" data-path="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/16-tinydbg_connect.html">
            
                <a href="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/16-tinydbg_connect.html">
            
                    
                    9.2.16 tinydbg connect
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.10" data-path="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/17-tinydbg_trace.html">
            
                <a href="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/17-tinydbg_trace.html">
            
                    
                    9.2.17 tinydbg trace
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.11" data-path="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/21-disassemble.html">
            
                <a href="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/21-disassemble.html">
            
                    
                    9.2.21 tinydbg> disass
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.12" data-path="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/22-breakpoint.html">
            
                <a href="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/22-breakpoint.html">
            
                    
                    9.2.22 tinydbg> breakpoint
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.13" data-path="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/23-breakpoints.html">
            
                <a href="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/23-breakpoints.html">
            
                    
                    9.2.23 tinydbg> breakpoints
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.14" data-path="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/24-clear.html">
            
                <a href="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/24-clear.html">
            
                    
                    9.2.24 tinydbg> clear | toggle
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.15" data-path="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/25-clearall.html">
            
                <a href="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/25-clearall.html">
            
                    
                    9.2.25 tinydbg> clearall
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.16" data-path="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/26-step.html">
            
                <a href="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/26-step.html">
            
                    
                    9.2.26 tinydbg> next | step | stepi
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.17" data-path="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/27-continue.html">
            
                <a href="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/27-continue.html">
            
                    
                    9.2.27 Continue Execution
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.18" data-path="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/28-pmem.html">
            
                <a href="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/28-pmem.html">
            
                    
                    9.2.28 View Memory
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.19" data-path="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/29-regs.html">
            
                <a href="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/29-regs.html">
            
                    
                    9.2.29 View Registers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.20" data-path="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/30-call-frame.html">
            
                <a href="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/30-call-frame.html">
            
                    
                    9.2.30 Call Frame Information
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.21" data-path="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/31-vars.html">
            
                <a href="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/31-vars.html">
            
                    
                    9.2.31 Variables & Type System
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.22" data-path="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/32-how_listfunctions_work.html">
            
                <a href="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/32-how_listfunctions_work.html">
            
                    
                    9.2.32 how ListFunctions work
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.23" data-path="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/32-funcs.html">
            
                <a href="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/32-funcs.html">
            
                    
                    9.2.32 funcs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.24" data-path="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/33-goroutines.html">
            
                <a href="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/33-goroutines.html">
            
                    
                    9.2.33 Goroutines
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.25" data-path="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/34-multi-threads.html">
            
                <a href="../9-develop-sym-debugger/2-æ ¸å¿è°è¯é»è¾/34-multi-threads.html">
            
                    
                    9.2.34 Tracing Multi-threaded Programs
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9.3" data-path="../9-develop-sym-debugger/3-é«çº§åè½æ©å±/">
            
                <a href="../9-develop-sym-debugger/3-é«çº§åè½æ©å±/">
            
                    
                    9.3 Advanced Feature Extensions
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.3.1" data-path="../9-develop-sym-debugger/3-é«çº§åè½æ©å±/100-howto_integrate_starlark.html">
            
                <a href="../9-develop-sym-debugger/3-é«çº§åè½æ©å±/100-howto_integrate_starlark.html">
            
                    
                    9.3.100 Integrating starlark
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3.2" data-path="../9-develop-sym-debugger/3-é«çº§åè½æ©å±/101-howto_tracing_via_ebpf.html">
            
                <a href="../9-develop-sym-debugger/3-é«çº§åè½æ©å±/101-howto_tracing_via_ebpf.html">
            
                    
                    9.3.101 Tracing with eBPF
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3.3" data-path="../9-develop-sym-debugger/3-é«çº§åè½æ©å±/102-howto_syntax_highlight.html">
            
                <a href="../9-develop-sym-debugger/3-é«çº§åè½æ©å±/102-howto_syntax_highlight.html">
            
                    
                    9.3.102 Implementing Syntax Highlighting
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3.4" data-path="../9-develop-sym-debugger/3-é«çº§åè½æ©å±/103-howto_paging_output.html">
            
                <a href="../9-develop-sym-debugger/3-é«çº§åè½æ©å±/103-howto_paging_output.html">
            
                    
                    9.3.103 Implementing Paged Output
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3.5" data-path="../9-develop-sym-debugger/3-é«çº§åè½æ©å±/104-howto_read_separate_dwarfdata.html">
            
                <a href="../9-develop-sym-debugger/3-é«çº§åè½æ©å±/104-howto_read_separate_dwarfdata.html">
            
                    
                    9.3.104 Reading Separately Stored DWARF Data
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3.6" data-path="../9-develop-sym-debugger/3-é«çº§åè½æ©å±/105-howto_guess_substitutepath.html">
            
                <a href="../9-develop-sym-debugger/3-é«çº§åè½æ©å±/105-howto_guess_substitutepath.html">
            
                    
                    9.3.105 Automatic Source File Path Mapping
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3.7" data-path="../9-develop-sym-debugger/3-é«çº§åè½æ©å±/106-howto_redirect_target_io.html">
            
                <a href="../9-develop-sym-debugger/3-é«çº§åè½æ©å±/106-howto_redirect_target_io.html">
            
                    
                    9.3.106 Implementing Target Process IO Redirection
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3.8" data-path="../9-develop-sym-debugger/3-é«çº§åè½æ©å±/107-howto_customize_tinydbg.html">
            
                <a href="../9-develop-sym-debugger/3-é«çº§åè½æ©å±/107-howto_customize_tinydbg.html">
            
                    
                    9.3.107 Supporting User Preferences
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3.9" data-path="../9-develop-sym-debugger/3-é«çº§åè½æ©å±/108-howto_accept_multiclient.html">
            
                <a href="../9-develop-sym-debugger/3-é«çº§åè½æ©å±/108-howto_accept_multiclient.html">
            
                    
                    9.3.108 Supporting Multi-client Debug Mode
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3.10" data-path="../9-develop-sym-debugger/3-é«çº§åè½æ©å±/109-howto_transcript_debugging.html">
            
                <a href="../9-develop-sym-debugger/3-é«çº§åè½æ©å±/109-howto_transcript_debugging.html">
            
                    
                    9.3.109 Supporting Debug Activity Logging
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="../10-extras/">
            
                <a href="../10-extras/">
            
                    
                    10 Mainstream Debugging Technology Analysis
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="../10-extras/1-development-of-debugger.html">
            
                <a href="../10-extras/1-development-of-debugger.html">
            
                    
                    10.1 Debugger Development History
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2" data-path="../10-extras/2-development-of-logging.html">
            
                <a href="../10-extras/2-development-of-logging.html">
            
                    
                    10.2 Logging System Development History
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.3" data-path="../10-extras/3-development-of-metrics.html">
            
                <a href="../10-extras/3-development-of-metrics.html">
            
                    
                    10.3 Metrics System Development History
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4" data-path="../10-extras/4-development-of-tracing.html">
            
                <a href="../10-extras/4-development-of-tracing.html">
            
                    
                    10.4 Tracing System Development History
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.5" data-path="../10-extras/5-development-of-bisect.html">
            
                <a href="../10-extras/5-development-of-bisect.html">
            
                    
                    10.5 Bisect Development History
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.6" data-path="../10-extras/6-development-of-ebpf.html">
            
                <a href="../10-extras/6-development-of-ebpf.html">
            
                    
                    10.6 eBPF Development History
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.7" data-path="../10-extras/7-development-of-replay.html">
            
                <a href="../10-extras/7-development-of-replay.html">
            
                    
                    10.7 Record and Replay Development History
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.8" data-path="../10-extras/8-development-of-debug-dsys.html">
            
                <a href="../10-extras/8-development-of-debug-dsys.html">
            
                    
                    10.8 Distributed Debugging Development History
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="../11-thanks/">
            
                <a href="../11-thanks/">
            
                    
                    11 Acknowledgments
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="../12-appendix/">
            
                <a href="../12-appendix/">
            
                    
                    12 Appendix
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.12.1" data-path="../12-appendix/1-go-programme-start.html">
            
                <a href="../12-appendix/1-go-programme-start.html">
            
                    
                    12.1 Go Program Startup Process
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.2" data-path="../12-appendix/2-auto-trace-cloned-threads.html">
            
                <a href="../12-appendix/2-auto-trace-cloned-threads.html">
            
                    
                    12.2 Automatic Thread Tracing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.3" data-path="../12-appendix/3-git-bisect.html">
            
                <a href="../12-appendix/3-git-bisect.html">
            
                    
                    12.3 git bisect
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.4" data-path="../12-appendix/80-go-tool-compile.html">
            
                <a href="../12-appendix/80-go-tool-compile.html">
            
                    
                    12.10 Compilation Toolchain/compile
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.5" data-path="../12-appendix/81-go-tool-asm.html">
            
                <a href="../12-appendix/81-go-tool-asm.html">
            
                    
                    12.11 Compilation Toolchain/asm
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.6" data-path="../12-appendix/82-go-tool-link.html">
            
                <a href="../12-appendix/82-go-tool-link.html">
            
                    
                    12.12 Compilation Toolchain/link
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.7" data-path="../12-appendix/90-why-buildid-loaded.html">
            
                <a href="../12-appendix/90-why-buildid-loaded.html">
            
                    
                    12.13 More: GNU build-id+gobuildid
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.8" data-path="../12-appendix/91-syntax-and-semantic-analysis.html">
            
                <a href="../12-appendix/91-syntax-and-semantic-analysis.html">
            
                    
                    12.14 More: Syntax Analysis vs Semantic Analysis
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.9" data-path="../12-appendix/92-why-gdb-uses-symtab.html">
            
                <a href="../12-appendix/92-why-gdb-uses-symtab.html">
            
                    
                    12.15 More: Why GDB Uses Symbol Table+DWARF
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >6.4 Debug Session</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h2 id="debug-session">Debug Session</h2>
<h3 id="implementation-goal-establishing-a-debug-session">Implementation Goal: Establishing a Debug Session</h3>
<p>To make the debugging process more convenient, we may have some functional and non-functional requirements:</p>
<ul>
<li>Remember the last executed debug command, allowing it to be repeated by pressing &quot;Enter&quot; to avoid re-typing;</li>
<li>Remember the list of executed commands, making it easy to quickly find recently used commands using &quot;up/down&quot; keys;</li>
<li>Remember the list of variable names to display, allowing tracking of multiple variable values simultaneously during debugging;</li>
<li>Remember previously added breakpoints, enabling quick viewing of the breakpoint list or selective clearing of breakpoints;</li>
<li>Maintain a list of debug-related commands and their help information for quick reference and command usage;</li>
<li>After completing a debugging session, quickly initiate a new debugging session based on the current process;</li>
<li>During a debugging session, be able to step back a few states to return to a previous state;</li>
<li>Minimize the cost of typing debug commands and parameter information to reduce usage and memory burden;</li>
<li>Others;</li>
</ul>
<p>We can actually think of more ideas, and behind these ideas is the desire for the debugger to provide a flexible user interface that not only offers various debugging commands and usage help but also maintains the current debugging state to provide more rich capabilities.</p>
<p>This is essentially a debug session that records and tracks user debugging settings and states, making it more convenient to assist users in completing debugging tasks. We need to build a debug session for users.</p>
<h3 id="code-implementation">Code Implementation</h3>
<p>When our debugger (tracer) successfully tracks the debugged process (tracee), we can create a debug session.</p>
<p><code>godbg exec &lt;prog&gt;</code>, when a process is started and tracked this way, we can implement <code>debug.NewDebugShell().Run()</code> to create and start a debug session. In this section, we&apos;ll introduce the implementation details of the debug session. After reading this, you&apos;ll be familiar with using cobraprompt, or you can use liner as an alternative to implement different styles of debug sessions.</p>
<h4 id="command-management-based-on-cobra">Command Management Based on Cobra</h4>
<p>In the previous sections 1, 2, and 3, our example programs used <code>os.Args[1]</code> to determine godbg&apos;s subcommands and switch to corresponding processing logic. After implementing the debug session, we also need to frequently read other commands from user input, such as break, continue, next, etc. Each command corresponds to different processing logic. If we write everything like in the previous sections, our code will quickly become lengthy and unmanageable.</p>
<p>Earlier, we mentioned using the cobra command-line framework to manage debug commands like exec, attach, help, and various debugging commands in the debug session.</p>
<p>First, let&apos;s look at a simple example of building a command-line tool using cobra:</p>
<pre><code class="lang-go"><span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> (
  <span class="hljs-string">&quot;fmt&quot;</span>

  <span class="hljs-string">&quot;github.com/spf13/cobra&quot;</span>
)

<span class="hljs-keyword">func</span> main() {

  <span class="hljs-comment">// Create root command</span>
  <span class="hljs-keyword">var</span> rootCmd = &amp;cobra.Command{
    Use:   <span class="hljs-string">&quot;demo&quot;</span>, 
    Short: <span class="hljs-string">&quot;A command-line application based on cobra&quot;</span>,
    Long: <span class="hljs-string">`spf13/cobra is a very easy-to-use Go command-line tool development framework. This is a demo program demonstrating the usage of spf13/cobra.`</span>,  
  }

  <span class="hljs-comment">// Create a version command</span>
  <span class="hljs-keyword">var</span> versionCmd = &amp;cobra.Command{
    Use:   <span class="hljs-string">&quot;version&quot;</span>,
    Short: <span class="hljs-string">&quot;Print version information&quot;</span>,
    Long: <span class="hljs-string">`The version subcommand will print the application&apos;s version information`</span>,
    Run: <span class="hljs-keyword">func</span>(cmd *cobra.Command, args []<span class="hljs-keyword">string</span>) {
      fmt.Println(<span class="hljs-string">&quot;Demo App v1.0&quot;</span>)  
    },
  }

  <span class="hljs-comment">// Add version command as a subcommand of root command</span>
  rootCmd.AddCommand(versionCmd)

  <span class="hljs-comment">// Execute root command</span>
  rootCmd.Execute()
}
</code></pre>
<p>In the above example, we:</p>
<ol>
<li>Create a root command &quot;demo&quot;</li>
<li>Create a &quot;version&quot; subcommand for printing version information</li>
<li>Add the &quot;version&quot; command as a subcommand of &quot;demo&quot;</li>
<li>Execute the root &quot;demo&quot; command</li>
</ol>
<p>This builds a simple command-line tool with a &quot;version&quot; subcommand for printing the version string. Cobra makes building command-line interfaces simple. We can continue adding more subcommands to the root command to build functionality.</p>
<p>In actual development, to quickly add commands and subcommands, you can use <a href="https://github.com/spf13/cobra-cli" target="_blank">spf13/cobra-cli</a>, such as <code>cobra-cli add xxxCmd --parent rootCmd</code>, which will add a subcommand xxxCmd to rootCmd, and you can also add subcommands to xxxCmd.</p>
<p>Actually, by the time you read this, we have already refactored godbg based on the spf13/cobra command management framework to make it easier to manage commands and implement functionality. You&apos;ll see this in the subsequent debug session examples.</p>
<h4 id="implementation-based-on-cobraprompt">Implementation Based on Cobraprompt</h4>
<p>The implementation based on cobraprompt focuses on its auto-completion convenience, and the implementation approach is relatively simple:</p>
<ul>
<li>Using cobra&apos;s command management capabilities, we create a debugRootCmd and register other debugging commands on it, such as breakpoint, list, step, continue, exit, etc. Each subcommand corresponds to a cobra.Command implementation;</li>
<li>prompt has the ability to prompt user input, obtain and validate user input, and dynamically complete input. cobraprompt is a combination of cobra and prompt. Its role is to use prompt to get user input commands, support auto-completion during input, and when the user inputs the correct debugging command and parameters, pass the parameter information to the corresponding subcommand registered on debugRootCmd for execution, such as when the user types exit, execute the exitCmd logic;</li>
<li>To help users quickly view help information for debugging commands, we need to group the numerous debugging commands. Therefore, we need to customize the help information for debugging commands. We use annotations of each subcommand to indicate its command group (such as breakpoint commands 1-breaks, source code commands 2-source), and then use a custom help function <code>helpMessageByGroups(rootCmd *cobra.Command)</code> to extract help information for all subcommands registered under rootCmd and summarize them by group;</li>
<li>For detailed help information of a specific subcommand, it is still managed by cobra debugRootCmd itself;</li>
</ul>
<pre><code class="lang-go"><span class="hljs-keyword">package</span> debug

<span class="hljs-keyword">import</span> (
    <span class="hljs-string">&quot;bytes&quot;</span>
    <span class="hljs-string">&quot;fmt&quot;</span>
    <span class="hljs-string">&quot;sort&quot;</span>
    <span class="hljs-string">&quot;strings&quot;</span>

    <span class="hljs-string">&quot;github.com/c-bata/go-prompt&quot;</span>
    <span class="hljs-string">&quot;github.com/hitzhangjie/godbg/target&quot;</span>
    cobraprompt <span class="hljs-string">&quot;github.com/stromland/cobra-prompt&quot;</span>

    <span class="hljs-string">&quot;github.com/spf13/cobra&quot;</span>
)

<span class="hljs-keyword">const</span> (
    cmdGroupAnnotation = <span class="hljs-string">&quot;cmd_group_annotation&quot;</span>

    cmdGroupBreakpoints = <span class="hljs-string">&quot;1-breaks&quot;</span>
    cmdGroupSource      = <span class="hljs-string">&quot;2-source&quot;</span>
    cmdGroupCtrlFlow    = <span class="hljs-string">&quot;3-execute&quot;</span>
    cmdGroupInfo        = <span class="hljs-string">&quot;4-info&quot;</span>
    cmdGroupOthers      = <span class="hljs-string">&quot;5-other&quot;</span>
    cmdGroupCobra       = <span class="hljs-string">&quot;other&quot;</span>

    cmdGroupDelimiter = <span class="hljs-string">&quot;-&quot;</span>

    prefix    = <span class="hljs-string">&quot;godbg&gt; &quot;</span>
    descShort = <span class="hljs-string">&quot;godbg interactive debugging commands&quot;</span>
)

<span class="hljs-keyword">const</span> (
    suggestionListSourceFiles = <span class="hljs-string">&quot;ListSourceFiles&quot;</span>
)

<span class="hljs-keyword">var</span> (
    TraceePID   <span class="hljs-keyword">int</span>
    breakpoints = <span class="hljs-keyword">map</span>[<span class="hljs-keyword">uintptr</span>]*target.Breakpoint{}
)

<span class="hljs-keyword">var</span> debugRootCmd = &amp;cobra.Command{
    Use:   <span class="hljs-string">&quot;help [command]&quot;</span>,
    Short: descShort,
}

<span class="hljs-comment">// NewDebugShell creates an interactive manager specifically for debugging</span>
<span class="hljs-keyword">func</span> NewDebugShell() *cobraprompt.CobraPrompt {

    fn := <span class="hljs-keyword">func</span>(cmd *cobra.Command, args []<span class="hljs-keyword">string</span>) {
        <span class="hljs-comment">// Description information</span>
        fmt.Println(cmd.Short)
        fmt.Println()

        <span class="hljs-comment">// Usage information</span>
        fmt.Println(cmd.Use)
        fmt.Println(cmd.Flags().FlagUsages())

        <span class="hljs-comment">// Command grouping</span>
        usage := helpMessageByGroups(cmd)
        fmt.Println(usage)
    }
    debugRootCmd.SetHelpFunc(fn)

    <span class="hljs-keyword">return</span> &amp;cobraprompt.CobraPrompt{
        RootCmd:                debugRootCmd,
        DynamicSuggestionsFunc: dynamicSuggestions,
        ResetFlagsFlag:         <span class="hljs-literal">false</span>,
        GoPromptOptions: []prompt.Option{
            prompt.OptionTitle(descShort),
            prompt.OptionPrefix(prefix),
            prompt.OptionSuggestionBGColor(prompt.DarkBlue),
            prompt.OptionDescriptionBGColor(prompt.DarkBlue),
            prompt.OptionSelectedSuggestionBGColor(prompt.Red),
            prompt.OptionSelectedDescriptionBGColor(prompt.Red),
            <span class="hljs-comment">// here, hide prompt dropdown list</span>
            <span class="hljs-comment">// TODO do we have a better way to show/hide the prompt dropdown list?</span>
            prompt.OptionMaxSuggestion(<span class="hljs-number">10</span>),
            prompt.OptionShowCompletionAtStart(),
            prompt.OptionCompletionOnDown(),
        },
        EnableSilentPrompt: <span class="hljs-literal">true</span>,
        EnableShowAtStart:  <span class="hljs-literal">true</span>,
    }
}

<span class="hljs-comment">// helpMessageByGroups groups commands and displays help information</span>
<span class="hljs-keyword">func</span> helpMessageByGroups(cmd *cobra.Command) <span class="hljs-keyword">string</span> {

    <span class="hljs-comment">// key:group, val:sorted commands in same group</span>
    groups := <span class="hljs-keyword">map</span>[<span class="hljs-keyword">string</span>][]<span class="hljs-keyword">string</span>{}
    <span class="hljs-keyword">for</span> _, c := <span class="hljs-keyword">range</span> cmd.Commands() {
        <span class="hljs-comment">// If no command group is specified, put it in the other group</span>
        <span class="hljs-keyword">var</span> groupName <span class="hljs-keyword">string</span>
        v, ok := c.Annotations[cmdGroupAnnotation]
        <span class="hljs-keyword">if</span> !ok {
            groupName = <span class="hljs-string">&quot;other&quot;</span>
        } <span class="hljs-keyword">else</span> {
            groupName = v
        }

        groupCmds, ok := groups[groupName]
        groupCmds = <span class="hljs-built_in">append</span>(groupCmds, fmt.Sprintf(<span class="hljs-string">&quot;  %-16s:%s&quot;</span>, c.Name(), c.Short))
        sort.Strings(groupCmds)

        groups[groupName] = groupCmds
    }

    <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(groups[cmdGroupCobra]) != <span class="hljs-number">0</span> {
        groups[cmdGroupOthers] = <span class="hljs-built_in">append</span>(groups[cmdGroupOthers], groups[cmdGroupCobra]...)
    }
    <span class="hljs-built_in">delete</span>(groups, cmdGroupCobra)

    <span class="hljs-comment">// Sort by group name</span>
    groupNames := []<span class="hljs-keyword">string</span>{}
    <span class="hljs-keyword">for</span> k, _ := <span class="hljs-keyword">range</span> groups {
        groupNames = <span class="hljs-built_in">append</span>(groupNames, k)
    }
    sort.Strings(groupNames)

    <span class="hljs-comment">// Group by group and sort commands within groups</span>
    buf := bytes.Buffer{}
    <span class="hljs-keyword">for</span> _, groupName := <span class="hljs-keyword">range</span> groupNames {
        commands, _ := groups[groupName]

        group := strings.Split(groupName, cmdGroupDelimiter)[<span class="hljs-number">1</span>]
        buf.WriteString(fmt.Sprintf(<span class="hljs-string">&quot;- [%s]\n&quot;</span>, group))

        <span class="hljs-keyword">for</span> _, cmd := <span class="hljs-keyword">range</span> commands {
            buf.WriteString(fmt.Sprintf(<span class="hljs-string">&quot;%s\n&quot;</span>, cmd))
        }
        buf.WriteString(<span class="hljs-string">&quot;\n&quot;</span>)
    }
    <span class="hljs-keyword">return</span> buf.String()
}

<span class="hljs-keyword">func</span> dynamicSuggestions(annotation <span class="hljs-keyword">string</span>, _ prompt.Document) []prompt.Suggest {
    <span class="hljs-keyword">switch</span> annotation {
    <span class="hljs-keyword">case</span> suggestionListSourceFiles:
        <span class="hljs-keyword">return</span> GetSourceFiles()
    <span class="hljs-keyword">default</span>:
        <span class="hljs-keyword">return</span> []prompt.Suggest{}
    }
}

<span class="hljs-keyword">func</span> GetSourceFiles() []prompt.Suggest {
    <span class="hljs-keyword">return</span> []prompt.Suggest{
        {Text: <span class="hljs-string">&quot;main.go&quot;</span>, Description: <span class="hljs-string">&quot;main.go&quot;</span>},
        {Text: <span class="hljs-string">&quot;helloworld.go&quot;</span>, Description: <span class="hljs-string">&quot;helloworld.go&quot;</span>},
    }
}
</code></pre>
<h4 id="implementation-based-on-liner">Implementation Based on Liner</h4>
<p>We already have an auto-completion implementation based on cobraprompt, so why do we also provide a version based on liner? When the author first attempted to implement the debug session, it was based on cobraprompt. At that time, the author thought cobraprompt&apos;s auto-completion capability was very convenient and cool, so it was highly praised. However, as debugging activities increased, the author gradually realized: <strong>During debugging, maintaining user focus on problem exploration and reducing interference to users is more important than simply pursuing coolness and convenience itself</strong>.</p>
<pre><code class="lang-go"><span class="hljs-keyword">package</span> debug

<span class="hljs-keyword">import</span> (
    <span class="hljs-string">&quot;bytes&quot;</span>
    <span class="hljs-string">&quot;fmt&quot;</span>
    <span class="hljs-string">&quot;sort&quot;</span>
    <span class="hljs-string">&quot;strings&quot;</span>

    <span class="hljs-string">&quot;github.com/peterh/liner&quot;</span>
    <span class="hljs-string">&quot;github.com/spf13/cobra&quot;</span>
)

<span class="hljs-keyword">const</span> (
    cmdGroupAnnotation = <span class="hljs-string">&quot;cmd_group_annotation&quot;</span>

    cmdGroupBreakpoints = <span class="hljs-string">&quot;1-breaks&quot;</span>
    cmdGroupSource      = <span class="hljs-string">&quot;2-source&quot;</span>
    cmdGroupCtrlFlow    = <span class="hljs-string">&quot;3-execute&quot;</span>
    cmdGroupInfo        = <span class="hljs-string">&quot;4-info&quot;</span>
    cmdGroupOthers      = <span class="hljs-string">&quot;5-other&quot;</span>
    cmdGroupCobra       = <span class="hljs-string">&quot;other&quot;</span>

    cmdGroupDelimiter = <span class="hljs-string">&quot;-&quot;</span>

    prefix    = <span class="hljs-string">&quot;godbg&gt; &quot;</span>
    descShort = <span class="hljs-string">&quot;godbg interactive debugging commands&quot;</span>
)

<span class="hljs-keyword">const</span> (
    suggestionListSourceFiles = <span class="hljs-string">&quot;ListSourceFiles&quot;</span>
)

<span class="hljs-keyword">var</span> debugRootCmd = &amp;cobra.Command{
    Use:   <span class="hljs-string">&quot;help [command]&quot;</span>,
    Short: descShort,
}

<span class="hljs-keyword">var</span> (
    CurrentSession *DebugSession
)

<span class="hljs-comment">// DebugSession &#x8C03;&#x8BD5;&#x4F1A;&#x8BDD;</span>
<span class="hljs-keyword">type</span> DebugSession <span class="hljs-keyword">struct</span> {
    done   <span class="hljs-keyword">chan</span> <span class="hljs-keyword">bool</span>
    prefix <span class="hljs-keyword">string</span>
    root   *cobra.Command
    liner  *liner.State
    last   <span class="hljs-keyword">string</span>

    defers []<span class="hljs-keyword">func</span>()
}

<span class="hljs-comment">// NewDebugSession &#x521B;&#x5EFA;&#x4E00;&#x4E2A;debug&#x4E13;&#x7528;&#x7684;&#x4EA4;&#x4E92;&#x7BA1;&#x7406;&#x5668;</span>
<span class="hljs-keyword">func</span> NewDebugSession() *DebugSession {

    fn := <span class="hljs-keyword">func</span>(cmd *cobra.Command, args []<span class="hljs-keyword">string</span>) {
        <span class="hljs-comment">// &#x63CF;&#x8FF0;&#x4FE1;&#x606F;</span>
        fmt.Println(cmd.Short)
        fmt.Println()

        <span class="hljs-comment">// &#x4F7F;&#x7528;&#x4FE1;&#x606F;</span>
        fmt.Println(cmd.Use)
        fmt.Println(cmd.Flags().FlagUsages())

        <span class="hljs-comment">// &#x547D;&#x4EE4;&#x5206;&#x7EC4;</span>
        usage := helpMessageByGroups(cmd)
        fmt.Println(usage)
    }
    debugRootCmd.SetHelpFunc(fn)

    <span class="hljs-keyword">return</span> &amp;DebugSession{
        done:   <span class="hljs-built_in">make</span>(<span class="hljs-keyword">chan</span> <span class="hljs-keyword">bool</span>),
        prefix: prefix,
        root:   debugRootCmd,
        liner:  liner.NewLiner(),
        last:   <span class="hljs-string">&quot;&quot;</span>,
    }
}

<span class="hljs-keyword">func</span> (s *DebugSession) Start() {
    s.liner.SetCompleter(completer)
    s.liner.SetTabCompletionStyle(liner.TabPrints)

    <span class="hljs-keyword">defer</span> <span class="hljs-keyword">func</span>() {
        <span class="hljs-keyword">for</span> idx := <span class="hljs-built_in">len</span>(s.defers) - <span class="hljs-number">1</span>; idx &gt;= <span class="hljs-number">0</span>; idx-- {
            s.defers[idx]()
        }
    }()

    <span class="hljs-keyword">for</span> {
        <span class="hljs-keyword">select</span> {
        <span class="hljs-keyword">case</span> &lt;-s.done:
            s.liner.Close()
            <span class="hljs-keyword">return</span>
        <span class="hljs-keyword">default</span>:
        }

        txt, err := s.liner.Prompt(s.prefix)
        <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
            <span class="hljs-built_in">panic</span>(err)
        }

        txt = strings.TrimSpace(txt)
        <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(txt) != <span class="hljs-number">0</span> {
            s.last = txt
            s.liner.AppendHistory(txt)
        } <span class="hljs-keyword">else</span> {
            txt = s.last
        }

        s.root.SetArgs(strings.Split(txt, <span class="hljs-string">&quot; &quot;</span>))
        s.root.Execute()
    }
}

<span class="hljs-keyword">func</span> (s *DebugSession) AtExit(fn <span class="hljs-keyword">func</span>()) *DebugSession {
    s.defers = <span class="hljs-built_in">append</span>(s.defers, fn)
    <span class="hljs-keyword">return</span> s
}

<span class="hljs-keyword">func</span> (s *DebugSession) Stop() {
    <span class="hljs-built_in">close</span>(s.done)
}

<span class="hljs-keyword">func</span> completer(line <span class="hljs-keyword">string</span>) []<span class="hljs-keyword">string</span> {
    cmds := []<span class="hljs-keyword">string</span>{}
    <span class="hljs-keyword">for</span> _, c := <span class="hljs-keyword">range</span> debugRootCmd.Commands() {
        <span class="hljs-comment">// complete cmd</span>
        <span class="hljs-keyword">if</span> strings.HasPrefix(c.Use, line) {
            cmds = <span class="hljs-built_in">append</span>(cmds, strings.Split(c.Use, <span class="hljs-string">&quot; &quot;</span>)[<span class="hljs-number">0</span>])
        }
        <span class="hljs-comment">// complete cmd&apos;s aliases</span>
        <span class="hljs-keyword">for</span> _, alias := <span class="hljs-keyword">range</span> c.Aliases {
            <span class="hljs-keyword">if</span> strings.HasPrefix(alias, line) {
                cmds = <span class="hljs-built_in">append</span>(cmds, alias)
            }
        }
    }
    <span class="hljs-keyword">return</span> cmds
}

<span class="hljs-comment">// helpMessageByGroups &#x5C06;&#x5404;&#x4E2A;&#x547D;&#x4EE4;&#x6309;&#x7167;&#x5206;&#x7EC4;&#x5F52;&#x7C7B;&#xFF0C;&#x518D;&#x5C55;&#x793A;&#x5E2E;&#x52A9;&#x4FE1;&#x606F;</span>
<span class="hljs-keyword">func</span> helpMessageByGroups(cmd *cobra.Command) <span class="hljs-keyword">string</span> {

    <span class="hljs-comment">// key:group, val:sorted commands in same group</span>
    groups := <span class="hljs-keyword">map</span>[<span class="hljs-keyword">string</span>][]<span class="hljs-keyword">string</span>{}
    <span class="hljs-keyword">for</span> _, c := <span class="hljs-keyword">range</span> cmd.Commands() {
        <span class="hljs-comment">// &#x5982;&#x679C;&#x6CA1;&#x6709;&#x6307;&#x5B9A;&#x547D;&#x4EE4;&#x5206;&#x7EC4;&#xFF0C;&#x653E;&#x5165;other&#x7EC4;</span>
        <span class="hljs-keyword">var</span> groupName <span class="hljs-keyword">string</span>
        v, ok := c.Annotations[cmdGroupAnnotation]
        <span class="hljs-keyword">if</span> !ok {
            groupName = <span class="hljs-string">&quot;other&quot;</span>
        } <span class="hljs-keyword">else</span> {
            groupName = v
        }

        groupCmds, ok := groups[groupName]
        groupCmds = <span class="hljs-built_in">append</span>(groupCmds, fmt.Sprintf(<span class="hljs-string">&quot;  %-16s:%s&quot;</span>, c.Name(), c.Short))
        sort.Strings(groupCmds)

        groups[groupName] = groupCmds
    }

    <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(groups[cmdGroupCobra]) != <span class="hljs-number">0</span> {
        groups[cmdGroupOthers] = <span class="hljs-built_in">append</span>(groups[cmdGroupOthers], groups[cmdGroupCobra]...)
    }
    <span class="hljs-built_in">delete</span>(groups, cmdGroupCobra)

    <span class="hljs-comment">// &#x6309;&#x7167;&#x5206;&#x7EC4;&#x540D;&#x8FDB;&#x884C;&#x6392;&#x5E8F;</span>
    groupNames := []<span class="hljs-keyword">string</span>{}
    <span class="hljs-keyword">for</span> k, _ := <span class="hljs-keyword">range</span> groups {
        groupNames = <span class="hljs-built_in">append</span>(groupNames, k)
    }
    sort.Strings(groupNames)

    <span class="hljs-comment">// &#x6309;&#x7167;group&#x5206;&#x7EC4;&#xFF0C;&#x5E76;&#x5BF9;&#x7EC4;&#x5185;&#x547D;&#x4EE4;&#x8FDB;&#x884C;&#x6392;&#x5E8F;</span>
    buf := bytes.Buffer{}
    <span class="hljs-keyword">for</span> _, groupName := <span class="hljs-keyword">range</span> groupNames {
        commands, _ := groups[groupName]

        group := strings.Split(groupName, cmdGroupDelimiter)[<span class="hljs-number">1</span>]
        buf.WriteString(fmt.Sprintf(<span class="hljs-string">&quot;- [%s]\n&quot;</span>, group))

        <span class="hljs-keyword">for</span> _, cmd := <span class="hljs-keyword">range</span> commands {
            buf.WriteString(fmt.Sprintf(<span class="hljs-string">&quot;%s\n&quot;</span>, cmd))
        }
        buf.WriteString(<span class="hljs-string">&quot;\n&quot;</span>)
    }
    <span class="hljs-keyword">return</span> buf.String()
}
</code></pre>
<h3 id="&#x4EE3;&#x7801;&#x6D4B;&#x8BD5;">&#x4EE3;&#x7801;&#x6D4B;&#x8BD5;</h3>
<h4 id="&#x57FA;&#x4E8E;cobraprompt&#x5B9E;&#x73B0;">&#x57FA;&#x4E8E;cobraprompt&#x5B9E;&#x73B0;</h4>
<p>Although based on cobraprompt implementation has been abandoned by the author, for consistency with the previous content, since we discussed the implementation, we should also introduce its running effect. Moreover, readers might be interested in this style of auto-completion, so let&apos;s demonstrate the running effect.</p>
<p>After the debugger starts successfully, it will use &quot;<strong>godbg&gt;</strong>&quot; to indicate the current debug session. We input debug commands in this debug session to perform corresponding debugging actions.</p>
<blockquote>
<p>If you want to test this code yourself, you need to check out version 8c07fbd of <a href="https://github.com/hitzhangjie/godbg" target="_blank">hitzhangjie/godbg</a>, then execute <code>go install -v</code> in the project directory to complete the installation, and then proceed with testing.</p>
</blockquote>
<p>This code is located in the repo <a href="https://github.com/hitzhangjie/godbg" target="_blank">hitzhangjie/godbg</a>. Execute <code>go install -v</code> to try it out.</p>
<p>After the debugger starts, it creates a debug session. The debug session still uses &quot;<strong>godbg&gt;</strong>&quot; as the input prompt. When we enter the help command, it displays the help information for various debug commands grouped together, which is very intuitive.</p>
<p><img src="assets/godbg_prompt4.png" alt="godbg prompt"></p>
<p>Let&apos;s look at the auto-completion prompts. The debugger assumes it already supports the breakpoint command (with aliases break or b), all breakpoints command (with alias bs), and call stack command backtrace (with alias bt).</p>
<p>When we enter the character &quot;b&quot; and press &quot;TAB&quot;, we can see that all the breakpoint, call stack, and related commands and their alias forms are displayed. At this point, users can get hints on how to continue inputting. For example, if it&apos;s a breakpoint type, according to the prompt, they can input the letter &quot;r&quot;. After we input &quot;r&quot;, continue to input &quot;TAB&quot; and it will auto-complete to &quot;break&quot;, with multiple options. At this point, we can continue typing the letter &quot;p&quot; to auto-complete to &quot;breakpoint&quot;. If what we want to input is &quot;breakpoint&quot;, we can just press Enter.</p>
<p><img src="assets/godbg-prompt6.png" alt="godbg prompt6"></p>
<h4 id="&#x57FA;&#x4E8E;liner&#x5B9E;&#x73B0;">&#x57FA;&#x4E8E;liner&#x5B9E;&#x73B0;</h4>
<p>This code is located in the repo <a href="https://github.com/hitzhangjie/godbg" target="_blank">hitzhangjie/godbg</a>. Execute <code>go install -v</code> to try it out.</p>
<p>After the debugger starts, it creates a debug session. The debug session still uses &quot;<strong>godbg&gt;</strong>&quot; as the input prompt. When we enter the help command, it displays the help information for various debug commands grouped together, which is very intuitive.</p>
<p><img src="assets/godbg_prompt4.png" alt="godbg prompt"></p>
<p>Let&apos;s look at the auto-completion prompts. The debugger assumes it already supports the breakpoint command (with aliases break or b), all breakpoints command (with alias bs), and call stack command backtrace (with alias bt).</p>
<p>When we enter the character &quot;b&quot; and press &quot;TAB&quot;, we can see that all the breakpoint, call stack, and related commands and their alias forms are displayed. At this point, users can get hints on how to continue inputting. For example, if it&apos;s a breakpoint type, according to the prompt, they can input the letter &quot;r&quot;. After we input &quot;r&quot;, continue to input &quot;TAB&quot; and it will auto-complete to &quot;break&quot;, with multiple options. At this point, we can continue typing the letter &quot;p&quot; to auto-complete to &quot;breakpoint&quot;. If what we want to input is &quot;breakpoint&quot;, we can just press Enter.</p>
<p><img src="assets/godbg-prompt6.png" alt="godbg prompt6"></p>
<h4 id="&#x7B80;&#x5355;&#x5BF9;&#x6BD4;">&#x7B80;&#x5355;&#x5BF9;&#x6BD4;</h4>
<p>Through the code test section, we have made a simple comparison between the debug session implemented based on cobraprompt and liner:</p>
<ul>
<li>The implementation based on cobraprompt is more cool and convenient, but it may cause more interference to the debugging process, which may be less conducive to users to focus on problem exploration and reduce interference to users;</li>
<li>The implementation based on liner is more concise and less intrusive, and it also has the auto-completion capability we expect, which can meet our initial design requirements for the debug session, so it is used as the final implementation version.</li>
</ul>
<p>Also, we remind readers that, as we add more features, more feature dependencies, and more code, the code examples that are simple enough to be handled in a single source file will become less and less. That is, readers may encounter a large number of test cases that require using <a href="https://github.com/hitzhangjie/godbg" target="_blank">hitzhangjie/godbg</a> directly for testing verification. For the convenience of readers&apos; reading and learning, we will try to follow this format specification:</p>
<ul>
<li>repo1 <a href="https://github.com/hitzhangjie/godbg" target="_blank">hitzhangjie/godbg</a> will include complete examples;</li>
<li>If this section&apos;s demo can be simplified to a single source file, repo2 <a href="https://github.com/hitzhangjie/golang-debugger-lessons" target="_blank">hitzhangjie/golang-debugger-lessons</a> will still provide examples;</li>
<li>If the example is only in repo1, we will clearly inform readers in the relevant section design and code test.</li>
</ul>
<h3 id="reference-content">Reference Content</h3>
<ul>
<li><a href="https://github.com/spf13/cobra" target="_blank">spf13/cobra</a>: A library for creating powerful modern CLI applications</li>
<li><a href="https://github.com/spf13/cobra-cli" target="_blank">spf13/cobra-cli</a>: A command-line tool for generating cobra applications and command files</li>
<li><a href="https://github.com/c-bata/go-prompt" target="_blank">c-bata/go-prompt</a>: Building a powerful interactive prompt in Go</li>
<li><a href="https://github.com/stromland/cobra-prompt" target="_blank">stromland/cobra-prompt</a>: A prompt for cobra</li>
<li><a href="https://github.com/peterh/liner" target="_blank">peterh/liner</a>: A pure Go line editor with history</li>
</ul>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="3-process_start_attach.html" class="navigation navigation-prev " aria-label="Previous page: 6.3 Launch & Attach">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="5-disassemble.html" class="navigation navigation-next " aria-label="Next page: 6.5 Disassembly">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"6.4 Debug Session","level":"1.6.4","depth":2,"next":{"title":"6.5 Disassembly","level":"1.6.5","depth":2,"path":"6-develop-inst-debugger/5-disassemble.md","ref":"6-develop-inst-debugger/5-disassemble.md","articles":[]},"previous":{"title":"6.3 Launch & Attach","level":"1.6.3","depth":2,"path":"6-develop-inst-debugger/3-process_start_attach.md","ref":"6-develop-inst-debugger/3-process_start_attach.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["md-toc"],"pluginsConfig":{"intopic-toc":{"selector":".markdown-section h1, .markdown-section h2, .markdown-section h3, .markdown-section h4, .markdown-section h5, .markdown-section h6","visible":true,"label":{"en":"In This Article","zh":"æ¬æç®å½"}},"md-toc":{"label":"In this article","selector":".markdown-section h2","visible":true},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"6-develop-inst-debugger/4-debug-session.md","mtime":"2025-06-15T09:03:37.785Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2025-06-15T18:12:36.160Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-md-toc/anchor.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-md-toc/gumshoe.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-md-toc/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>


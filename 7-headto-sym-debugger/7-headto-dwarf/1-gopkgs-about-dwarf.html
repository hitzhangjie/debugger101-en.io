
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>7.7.1 Related Go Packages · GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-md-toc/style.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="2-delve-into-internals.html" />
    
    
    <link rel="prev" href="./" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    1 Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../../2-preface/">
            
                <a href="../../2-preface/">
            
                    
                    2 Preface
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../../3-terms/">
            
                <a href="../../3-terms/">
            
                    
                    3 Common Terms
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../../4-basics/">
            
                <a href="../../4-basics/">
            
                    
                    4 Software Debugging Basics
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../../4-basics/1-purposes.html">
            
                <a href="../../4-basics/1-purposes.html">
            
                    
                    4.1 Debugging Purposes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../../4-basics/2-dependencies.html">
            
                <a href="../../4-basics/2-dependencies.html">
            
                    
                    4.2 Debugging Dependencies
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../../4-basics/3-countertactics.html">
            
                <a href="../../4-basics/3-countertactics.html">
            
                    
                    4.3 Anti-Debugging Techniques
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../../5-debugger-skeleton/">
            
                <a href="../../5-debugger-skeleton/">
            
                    
                    5 Entering Debugger Development
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../../5-debugger-skeleton/1-debugger_skeleton.html">
            
                <a href="../../5-debugger-skeleton/1-debugger_skeleton.html">
            
                    
                    5.1 Debugger Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../../5-debugger-skeleton/2-debugger_demo.html">
            
                <a href="../../5-debugger-skeleton/2-debugger_demo.html">
            
                    
                    5.2 Debugger Example
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../../6-develop-inst-debugger/">
            
                <a href="../../6-develop-inst-debugger/">
            
                    
                    6 Developing Go Instruction-Level Debugger
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../../6-develop-inst-debugger/1-process_start.html">
            
                <a href="../../6-develop-inst-debugger/1-process_start.html">
            
                    
                    6.1 Process Launch
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../../6-develop-inst-debugger/2-process_attach.html">
            
                <a href="../../6-develop-inst-debugger/2-process_attach.html">
            
                    
                    6.2 Process Attach
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="../../6-develop-inst-debugger/3-process_start_attach.html">
            
                <a href="../../6-develop-inst-debugger/3-process_start_attach.html">
            
                    
                    6.3 Launch & Attach
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="../../6-develop-inst-debugger/4-debug-session.html">
            
                <a href="../../6-develop-inst-debugger/4-debug-session.html">
            
                    
                    6.4 Debug Session
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.5" data-path="../../6-develop-inst-debugger/5-disassemble.html">
            
                <a href="../../6-develop-inst-debugger/5-disassemble.html">
            
                    
                    6.5 Disassembly
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.6" data-path="../../6-develop-inst-debugger/6-breakpoint.html">
            
                <a href="../../6-develop-inst-debugger/6-breakpoint.html">
            
                    
                    6.6 Adding Breakpoints
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.7" data-path="../../6-develop-inst-debugger/7-breakpoints.html">
            
                <a href="../../6-develop-inst-debugger/7-breakpoints.html">
            
                    
                    6.7 Listing Breakpoints
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.8" data-path="../../6-develop-inst-debugger/8-clear.html">
            
                <a href="../../6-develop-inst-debugger/8-clear.html">
            
                    
                    6.8 Removing Breakpoints
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.9" data-path="../../6-develop-inst-debugger/9-clearall.html">
            
                <a href="../../6-develop-inst-debugger/9-clearall.html">
            
                    
                    6.9 Clearing All Breakpoints
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.10" data-path="../../6-develop-inst-debugger/10-step.html">
            
                <a href="../../6-develop-inst-debugger/10-step.html">
            
                    
                    6.10 Stepping Operations
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.11" data-path="../../6-develop-inst-debugger/11-continue.html">
            
                <a href="../../6-develop-inst-debugger/11-continue.html">
            
                    
                    6.11 Running to Breakpoint
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.12" data-path="../../6-develop-inst-debugger/12-pmem.html">
            
                <a href="../../6-develop-inst-debugger/12-pmem.html">
            
                    
                    6.12 Printing Memory Data
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.13" data-path="../../6-develop-inst-debugger/13-pregs.html">
            
                <a href="../../6-develop-inst-debugger/13-pregs.html">
            
                    
                    6.13 Printing Register Data
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.14" data-path="../../6-develop-inst-debugger/14-set-mem.html">
            
                <a href="../../6-develop-inst-debugger/14-set-mem.html">
            
                    
                    6.14 Modifying Memory Data
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.15" data-path="../../6-develop-inst-debugger/15-set-regs.html">
            
                <a href="../../6-develop-inst-debugger/15-set-regs.html">
            
                    
                    6.15 Modifying Register Data
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.16" data-path="../../6-develop-inst-debugger/20-trace_new_threads.html">
            
                <a href="../../6-develop-inst-debugger/20-trace_new_threads.html">
            
                    
                    6.20 Tracing Multi-threaded Programs 1
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.17" data-path="../../6-develop-inst-debugger/21-trace_old_threads.html">
            
                <a href="../../6-develop-inst-debugger/21-trace_old_threads.html">
            
                    
                    6.21 Tracing Multi-threaded Programs 2
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.18" data-path="../../6-develop-inst-debugger/80-aslr.html">
            
                <a href="../../6-develop-inst-debugger/80-aslr.html">
            
                    
                    6.80 Understanding ASLR
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.19" data-path="../../6-develop-inst-debugger/99-more.html">
            
                <a href="../../6-develop-inst-debugger/99-more.html">
            
                    
                    6.99 More...
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../">
            
                <a href="../">
            
                    
                    7 Advancing to Symbol-Level Debugger
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../1-how-go-build-works.html">
            
                <a href="../1-how-go-build-works.html">
            
                    
                    7.1 Go Build Internals
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="../2-elf.html">
            
                <a href="../2-elf.html">
            
                    
                    7.2 Understanding ELF Files
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="../3-syms.html">
            
                <a href="../3-syms.html">
            
                    
                    7.3 Symbols & Symbol Tables
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.4" data-path="../4-syms-resolve-reloc.html">
            
                <a href="../4-syms-resolve-reloc.html">
            
                    
                    7.4 Symbol Resolution & Relocation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.5" data-path="../5-loading.html">
            
                <a href="../5-loading.html">
            
                    
                    7.5 Loading
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.6" data-path="../6-gopkg-debug/">
            
                <a href="../6-gopkg-debug/">
            
                    
                    7.6 Go Standard Library debug/*
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.6.1" data-path="../6-gopkg-debug/1-elf.html">
            
                <a href="../6-gopkg-debug/1-elf.html">
            
                    
                    7.6.1 debug/elf
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.6.2" data-path="../6-gopkg-debug/2-gosym.html">
            
                <a href="../6-gopkg-debug/2-gosym.html">
            
                    
                    7.6.2 debug/gosym
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.6.3" data-path="../6-gopkg-debug/3-dwarf.html">
            
                <a href="../6-gopkg-debug/3-dwarf.html">
            
                    
                    7.6.3 debug/dwarf
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7.7" data-path="./">
            
                <a href="./">
            
                    
                    7.7 Advancing to DWARF
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="1.7.7.1" data-path="1-gopkgs-about-dwarf.html">
            
                <a href="1-gopkgs-about-dwarf.html">
            
                    
                    7.7.1 Related Go Packages
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.7.2" data-path="2-delve-into-internals.html">
            
                <a href="2-delve-into-internals.html">
            
                    
                    7.7.2 How to Crack Those Details
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.7.3" data-path="3-compiler-gen-dwarfdata.html">
            
                <a href="3-compiler-gen-dwarfdata.html">
            
                    
                    7.7.3 Compiler Generated DWARF Data
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.7.4" data-path="4-linker-gen-dwarfdata.html">
            
                <a href="4-linker-gen-dwarfdata.html">
            
                    
                    7.7.4 Linker Generated DWARF Data
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.7.5" data-path="5-headto-dwarf.html">
            
                <a href="5-headto-dwarf.html">
            
                    
                    7.7.5 Understanding DWARF
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../../8-dwarf/">
            
                <a href="../../8-dwarf/">
            
                    
                    8 Debug Information Standard: DWARF
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="../../8-dwarf/1-history.html">
            
                <a href="../../8-dwarf/1-history.html">
            
                    
                    8.1 DWARF Development History
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="../../8-dwarf/2-overview.html">
            
                <a href="../../8-dwarf/2-overview.html">
            
                    
                    8.2 DWARF Content Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="../../8-dwarf/3-dwarfdata.html">
            
                <a href="../../8-dwarf/3-dwarfdata.html">
            
                    
                    8.3 DWARF Data Classification
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4" data-path="../../8-dwarf/4-die/">
            
                <a href="../../8-dwarf/4-die/">
            
                    
                    8.4 DIE Detailed Introduction
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.4.1" data-path="../../8-dwarf/4-die/1-desc-data-type.html">
            
                <a href="../../8-dwarf/4-die/1-desc-data-type.html">
            
                    
                    8.4.1 DIE Describing Data and Types
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.2" data-path="../../8-dwarf/4-die/2-desc-locations.html">
            
                <a href="../../8-dwarf/4-die/2-desc-locations.html">
            
                    
                    8.4.2 Location Data
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.3" data-path="../../8-dwarf/4-die/3-desc-code.html">
            
                <a href="../../8-dwarf/4-die/3-desc-code.html">
            
                    
                    8.4.3 DIE Describing Executable Code
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.4" data-path="../../8-dwarf/4-die/4-encoding.html">
            
                <a href="../../8-dwarf/4-die/4-encoding.html">
            
                    
                    8.4.4 DIE Data Encoding
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8.5" data-path="../../8-dwarf/5-other/">
            
                <a href="../../8-dwarf/5-other/">
            
                    
                    8.5 Other Debug Data
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.5.1" data-path="../../8-dwarf/5-other/1-accelerated-access.html">
            
                <a href="../../8-dwarf/5-other/1-accelerated-access.html">
            
                    
                    8.5.1 Accelerated Access
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5.2" data-path="../../8-dwarf/5-other/2-lineno-table.html">
            
                <a href="../../8-dwarf/5-other/2-lineno-table.html">
            
                    
                    8.5.2 Line Number Table Information
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5.3" data-path="../../8-dwarf/5-other/3-callframe-info.html">
            
                <a href="../../8-dwarf/5-other/3-callframe-info.html">
            
                    
                    8.5.3 Call Frame Information
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5.4" data-path="../../8-dwarf/5-other/4-macro-info.html">
            
                <a href="../../8-dwarf/5-other/4-macro-info.html">
            
                    
                    8.5.4 Macro Information
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5.5" data-path="../../8-dwarf/5-other/5-varlen-data.html">
            
                <a href="../../8-dwarf/5-other/5-varlen-data.html">
            
                    
                    8.5.5 Variable Length Data
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5.6" data-path="../../8-dwarf/5-other/6-shrink-data.html">
            
                <a href="../../8-dwarf/5-other/6-shrink-data.html">
            
                    
                    8.5.6 Compressed DWARF Data
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5.7" data-path="../../8-dwarf/5-other/7-elf-sections.html">
            
                <a href="../../8-dwarf/5-other/7-elf-sections.html">
            
                    
                    8.5.7 ELF Sections
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8.6" data-path="../../8-dwarf/6-practices.html">
            
                <a href="../../8-dwarf/6-practices.html">
            
                    
                    8.6 DWARF Parsing and Applications
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.7" data-path="../../8-dwarf/7-summary.html">
            
                <a href="../../8-dwarf/7-summary.html">
            
                    
                    8.7 Summary
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="../../9-develop-sym-debugger/">
            
                <a href="../../9-develop-sym-debugger/">
            
                    
                    9 Developing Go Symbol-Level Debugger
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="../../9-develop-sym-debugger/1-架构设计/">
            
                <a href="../../9-develop-sym-debugger/1-架构设计/">
            
                    
                    9.1 Architecture Design
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1.1" data-path="../../9-develop-sym-debugger/1-架构设计/1-现代调试器架构.html">
            
                <a href="../../9-develop-sym-debugger/1-架构设计/1-现代调试器架构.html">
            
                    
                    9.1.1 Modern Debugger Architecture
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.1.2" data-path="../../9-develop-sym-debugger/1-架构设计/2-前端UI层设计.html">
            
                <a href="../../9-develop-sym-debugger/1-架构设计/2-前端UI层设计.html">
            
                    
                    9.1.2 Frontend UI Layer Design
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.1.3" data-path="../../9-develop-sym-debugger/1-架构设计/3-Service层设计.html">
            
                <a href="../../9-develop-sym-debugger/1-架构设计/3-Service层设计.html">
            
                    
                    9.1.3 Service Layer Design
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.1.4" data-path="../../9-develop-sym-debugger/1-架构设计/4-后端符号层设计.html">
            
                <a href="../../9-develop-sym-debugger/1-架构设计/4-后端符号层设计.html">
            
                    
                    9.1.4 Backend Symbol Layer Design
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.1.5" data-path="../../9-develop-sym-debugger/1-架构设计/5-后端目标层设计.html">
            
                <a href="../../9-develop-sym-debugger/1-架构设计/5-后端目标层设计.html">
            
                    
                    9.1.5 Backend Target Layer Design
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.1.6" data-path="../../9-develop-sym-debugger/1-架构设计/6-日志系统设计.html">
            
                <a href="../../9-develop-sym-debugger/1-架构设计/6-日志系统设计.html">
            
                    
                    9.1.6 Logging System Design
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="../../9-develop-sym-debugger/2-核心调试逻辑/">
            
                <a href="../../9-develop-sym-debugger/2-核心调试逻辑/">
            
                    
                    9.2 Core Debugging Logic
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.2.1" data-path="../../9-develop-sym-debugger/2-核心调试逻辑/00-cmds.html">
            
                <a href="../../9-develop-sym-debugger/2-核心调试逻辑/00-cmds.html">
            
                    
                    9.2.00 Core Debugging Commands
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.2" data-path="../../9-develop-sym-debugger/2-核心调试逻辑/01-debug-session.html">
            
                <a href="../../9-develop-sym-debugger/2-核心调试逻辑/01-debug-session.html">
            
                    
                    9.2.01 Opening Debug Session
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.3" data-path="../../9-develop-sym-debugger/2-核心调试逻辑/11-tinydbg_attach.html">
            
                <a href="../../9-develop-sym-debugger/2-核心调试逻辑/11-tinydbg_attach.html">
            
                    
                    9.2.11 tinydbg attach
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.4" data-path="../../9-develop-sym-debugger/2-核心调试逻辑/12-tinydbg_attach_waitfor.html">
            
                <a href="../../9-develop-sym-debugger/2-核心调试逻辑/12-tinydbg_attach_waitfor.html">
            
                    
                    9.2.12 tinydbg attach+waitfor
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.5" data-path="../../9-develop-sym-debugger/2-核心调试逻辑/13-tinydbg_exec.html">
            
                <a href="../../9-develop-sym-debugger/2-核心调试逻辑/13-tinydbg_exec.html">
            
                    
                    9.2.13 tinydbg exec
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.6" data-path="../../9-develop-sym-debugger/2-核心调试逻辑/14-tinydbg_debug.html">
            
                <a href="../../9-develop-sym-debugger/2-核心调试逻辑/14-tinydbg_debug.html">
            
                    
                    9.2.14 tinydbg debug
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.7" data-path="../../9-develop-sym-debugger/2-核心调试逻辑/15-tinydbg_core1.html">
            
                <a href="../../9-develop-sym-debugger/2-核心调试逻辑/15-tinydbg_core1.html">
            
                    
                    9.2.15 tinydbg core - part1
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.8" data-path="../../9-develop-sym-debugger/2-核心调试逻辑/15-tinydbg_core2.html">
            
                <a href="../../9-develop-sym-debugger/2-核心调试逻辑/15-tinydbg_core2.html">
            
                    
                    9.2.15 tinydbg core - part2
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.9" data-path="../../9-develop-sym-debugger/2-核心调试逻辑/16-tinydbg_connect.html">
            
                <a href="../../9-develop-sym-debugger/2-核心调试逻辑/16-tinydbg_connect.html">
            
                    
                    9.2.16 tinydbg connect
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.10" data-path="../../9-develop-sym-debugger/2-核心调试逻辑/17-tinydbg_trace.html">
            
                <a href="../../9-develop-sym-debugger/2-核心调试逻辑/17-tinydbg_trace.html">
            
                    
                    9.2.17 tinydbg trace
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.11" data-path="../../9-develop-sym-debugger/2-核心调试逻辑/21-disassemble.html">
            
                <a href="../../9-develop-sym-debugger/2-核心调试逻辑/21-disassemble.html">
            
                    
                    9.2.21 tinydbg> disass
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.12" data-path="../../9-develop-sym-debugger/2-核心调试逻辑/22-breakpoint.html">
            
                <a href="../../9-develop-sym-debugger/2-核心调试逻辑/22-breakpoint.html">
            
                    
                    9.2.22 tinydbg> breakpoint
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.13" data-path="../../9-develop-sym-debugger/2-核心调试逻辑/23-breakpoints.html">
            
                <a href="../../9-develop-sym-debugger/2-核心调试逻辑/23-breakpoints.html">
            
                    
                    9.2.23 tinydbg> breakpoints
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.14" data-path="../../9-develop-sym-debugger/2-核心调试逻辑/24-clear.html">
            
                <a href="../../9-develop-sym-debugger/2-核心调试逻辑/24-clear.html">
            
                    
                    9.2.24 tinydbg> clear | toggle
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.15" data-path="../../9-develop-sym-debugger/2-核心调试逻辑/25-clearall.html">
            
                <a href="../../9-develop-sym-debugger/2-核心调试逻辑/25-clearall.html">
            
                    
                    9.2.25 tinydbg> clearall
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.16" data-path="../../9-develop-sym-debugger/2-核心调试逻辑/26-step.html">
            
                <a href="../../9-develop-sym-debugger/2-核心调试逻辑/26-step.html">
            
                    
                    9.2.26 tinydbg> next | step | stepi
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.17" data-path="../../9-develop-sym-debugger/2-核心调试逻辑/27-continue.html">
            
                <a href="../../9-develop-sym-debugger/2-核心调试逻辑/27-continue.html">
            
                    
                    9.2.27 Continue Execution
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.18" data-path="../../9-develop-sym-debugger/2-核心调试逻辑/28-pmem.html">
            
                <a href="../../9-develop-sym-debugger/2-核心调试逻辑/28-pmem.html">
            
                    
                    9.2.28 View Memory
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.19" data-path="../../9-develop-sym-debugger/2-核心调试逻辑/29-regs.html">
            
                <a href="../../9-develop-sym-debugger/2-核心调试逻辑/29-regs.html">
            
                    
                    9.2.29 View Registers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.20" data-path="../../9-develop-sym-debugger/2-核心调试逻辑/30-call-frame.html">
            
                <a href="../../9-develop-sym-debugger/2-核心调试逻辑/30-call-frame.html">
            
                    
                    9.2.30 Call Frame Information
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.21" data-path="../../9-develop-sym-debugger/2-核心调试逻辑/31-vars.html">
            
                <a href="../../9-develop-sym-debugger/2-核心调试逻辑/31-vars.html">
            
                    
                    9.2.31 Variables & Type System
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.22" data-path="../../9-develop-sym-debugger/2-核心调试逻辑/32-how_listfunctions_work.html">
            
                <a href="../../9-develop-sym-debugger/2-核心调试逻辑/32-how_listfunctions_work.html">
            
                    
                    9.2.32 how ListFunctions work
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.23" data-path="../../9-develop-sym-debugger/2-核心调试逻辑/32-funcs.html">
            
                <a href="../../9-develop-sym-debugger/2-核心调试逻辑/32-funcs.html">
            
                    
                    9.2.32 funcs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.24" data-path="../../9-develop-sym-debugger/2-核心调试逻辑/33-goroutines.html">
            
                <a href="../../9-develop-sym-debugger/2-核心调试逻辑/33-goroutines.html">
            
                    
                    9.2.33 Goroutines
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2.25" data-path="../../9-develop-sym-debugger/2-核心调试逻辑/34-multi-threads.html">
            
                <a href="../../9-develop-sym-debugger/2-核心调试逻辑/34-multi-threads.html">
            
                    
                    9.2.34 Tracing Multi-threaded Programs
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9.3" data-path="../../9-develop-sym-debugger/3-高级功能扩展/">
            
                <a href="../../9-develop-sym-debugger/3-高级功能扩展/">
            
                    
                    9.3 Advanced Feature Extensions
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.3.1" data-path="../../9-develop-sym-debugger/3-高级功能扩展/100-howto_integrate_starlark.html">
            
                <a href="../../9-develop-sym-debugger/3-高级功能扩展/100-howto_integrate_starlark.html">
            
                    
                    9.3.100 Integrating starlark
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3.2" data-path="../../9-develop-sym-debugger/3-高级功能扩展/101-howto_tracing_via_ebpf.html">
            
                <a href="../../9-develop-sym-debugger/3-高级功能扩展/101-howto_tracing_via_ebpf.html">
            
                    
                    9.3.101 Tracing with eBPF
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3.3" data-path="../../9-develop-sym-debugger/3-高级功能扩展/102-howto_syntax_highlight.html">
            
                <a href="../../9-develop-sym-debugger/3-高级功能扩展/102-howto_syntax_highlight.html">
            
                    
                    9.3.102 Implementing Syntax Highlighting
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3.4" data-path="../../9-develop-sym-debugger/3-高级功能扩展/103-howto_paging_output.html">
            
                <a href="../../9-develop-sym-debugger/3-高级功能扩展/103-howto_paging_output.html">
            
                    
                    9.3.103 Implementing Paged Output
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3.5" data-path="../../9-develop-sym-debugger/3-高级功能扩展/104-howto_read_separate_dwarfdata.html">
            
                <a href="../../9-develop-sym-debugger/3-高级功能扩展/104-howto_read_separate_dwarfdata.html">
            
                    
                    9.3.104 Reading Separately Stored DWARF Data
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3.6" data-path="../../9-develop-sym-debugger/3-高级功能扩展/105-howto_guess_substitutepath.html">
            
                <a href="../../9-develop-sym-debugger/3-高级功能扩展/105-howto_guess_substitutepath.html">
            
                    
                    9.3.105 Automatic Source File Path Mapping
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3.7" data-path="../../9-develop-sym-debugger/3-高级功能扩展/106-howto_redirect_target_io.html">
            
                <a href="../../9-develop-sym-debugger/3-高级功能扩展/106-howto_redirect_target_io.html">
            
                    
                    9.3.106 Implementing Target Process IO Redirection
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3.8" data-path="../../9-develop-sym-debugger/3-高级功能扩展/107-howto_customize_tinydbg.html">
            
                <a href="../../9-develop-sym-debugger/3-高级功能扩展/107-howto_customize_tinydbg.html">
            
                    
                    9.3.107 Supporting User Preferences
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3.9" data-path="../../9-develop-sym-debugger/3-高级功能扩展/108-howto_accept_multiclient.html">
            
                <a href="../../9-develop-sym-debugger/3-高级功能扩展/108-howto_accept_multiclient.html">
            
                    
                    9.3.108 Supporting Multi-client Debug Mode
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3.10" data-path="../../9-develop-sym-debugger/3-高级功能扩展/109-howto_transcript_debugging.html">
            
                <a href="../../9-develop-sym-debugger/3-高级功能扩展/109-howto_transcript_debugging.html">
            
                    
                    9.3.109 Supporting Debug Activity Logging
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="../../10-extras/">
            
                <a href="../../10-extras/">
            
                    
                    10 Mainstream Debugging Technology Analysis
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="../../10-extras/1-development-of-debugger.html">
            
                <a href="../../10-extras/1-development-of-debugger.html">
            
                    
                    10.1 Debugger Development History
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2" data-path="../../10-extras/2-development-of-logging.html">
            
                <a href="../../10-extras/2-development-of-logging.html">
            
                    
                    10.2 Logging System Development History
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.3" data-path="../../10-extras/3-development-of-metrics.html">
            
                <a href="../../10-extras/3-development-of-metrics.html">
            
                    
                    10.3 Metrics System Development History
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4" data-path="../../10-extras/4-development-of-tracing.html">
            
                <a href="../../10-extras/4-development-of-tracing.html">
            
                    
                    10.4 Tracing System Development History
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.5" data-path="../../10-extras/5-development-of-bisect.html">
            
                <a href="../../10-extras/5-development-of-bisect.html">
            
                    
                    10.5 Bisect Development History
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.6" data-path="../../10-extras/6-development-of-ebpf.html">
            
                <a href="../../10-extras/6-development-of-ebpf.html">
            
                    
                    10.6 eBPF Development History
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.7" data-path="../../10-extras/7-development-of-replay.html">
            
                <a href="../../10-extras/7-development-of-replay.html">
            
                    
                    10.7 Record and Replay Development History
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.8" data-path="../../10-extras/8-development-of-debug-dsys.html">
            
                <a href="../../10-extras/8-development-of-debug-dsys.html">
            
                    
                    10.8 Distributed Debugging Development History
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="../../11-thanks/">
            
                <a href="../../11-thanks/">
            
                    
                    11 Acknowledgments
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="../../12-appendix/">
            
                <a href="../../12-appendix/">
            
                    
                    12 Appendix
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.12.1" data-path="../../12-appendix/1-go-programme-start.html">
            
                <a href="../../12-appendix/1-go-programme-start.html">
            
                    
                    12.1 Go Program Startup Process
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.2" data-path="../../12-appendix/2-auto-trace-cloned-threads.html">
            
                <a href="../../12-appendix/2-auto-trace-cloned-threads.html">
            
                    
                    12.2 Automatic Thread Tracing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.3" data-path="../../12-appendix/3-git-bisect.html">
            
                <a href="../../12-appendix/3-git-bisect.html">
            
                    
                    12.3 git bisect
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.4" data-path="../../12-appendix/80-go-tool-compile.html">
            
                <a href="../../12-appendix/80-go-tool-compile.html">
            
                    
                    12.10 Compilation Toolchain/compile
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.5" data-path="../../12-appendix/81-go-tool-asm.html">
            
                <a href="../../12-appendix/81-go-tool-asm.html">
            
                    
                    12.11 Compilation Toolchain/asm
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.6" data-path="../../12-appendix/82-go-tool-link.html">
            
                <a href="../../12-appendix/82-go-tool-link.html">
            
                    
                    12.12 Compilation Toolchain/link
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.7" data-path="../../12-appendix/90-why-buildid-loaded.html">
            
                <a href="../../12-appendix/90-why-buildid-loaded.html">
            
                    
                    12.13 More: GNU build-id+gobuildid
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.8" data-path="../../12-appendix/91-syntax-and-semantic-analysis.html">
            
                <a href="../../12-appendix/91-syntax-and-semantic-analysis.html">
            
                    
                    12.14 More: Syntax Analysis vs Semantic Analysis
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.9" data-path="../../12-appendix/92-why-gdb-uses-symtab.html">
            
                <a href="../../12-appendix/92-why-gdb-uses-symtab.html">
            
                    
                    12.15 More: Why GDB Uses Symbol Table+DWARF
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >7.7.1 Related Go Packages</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h2 id="go-dwarf-support">Go DWARF Support</h2>
<h3 id="why-discuss-this-topic">Why Discuss This Topic</h3>
<p>When the Go compilation toolchain performs compilation and linking, it generates DWARF debugging information. What Go libraries can we use to read this data? When reading, for types, variables, constants, functions (including parameter lists and return values), etc., are there reference manuals that can tell us exactly how to read them (DWARF data varies between different languages and program constructs)? Now in 2025, are there more user-friendly open-source libraries, reference manuals, and documentation in this area?</p>
<p>Having thoroughly studied the DWARF specification, I can naturally understand how much work is involved in generating and parsing DWARF data. Some readers might wonder if there&apos;s a huge difference compared to reading and writing an ELF file? Yes, there is a very significant difference, they&apos;re completely incomparable. Just look at the amount of code in the pkg/dwarf directory of the delve debugger, and you&apos;ll understand why we need to discuss Go DWARF Support.</p>
<pre><code class="lang-bash">$ cloc path-to/delve/pkg/dwarf
      35 text files.
      34 unique files.                            
       3 files ignored.

github.com/AlDanial/cloc v 2.04  T=0.03 s (1200.7 files/s, 279205.9 lines/s)
-------------------------------------------------------------------------------
Language                     files          blank        comment           code
-------------------------------------------------------------------------------
Go                              34            920            573           6413
-------------------------------------------------------------------------------
SUM:                            34            920            573           6413
-------------------------------------------------------------------------------
</code></pre>
<p>Developers focused on the debugging domain are quite niche, and Go is still a relatively young language. Therefore:</p>
<ul>
<li>The Go team is unlikely to maintain a comprehensive DWARF implementation in the standard library for a small audience, as it would be very resource-intensive.</li>
<li>The Go compilation toolchain focuses on generating DWARF debugging information, which is relatively comprehensive - it generates everything that should be generated, but the documentation is sparse.</li>
<li>debug/dwarf focuses on reading DWARF data, but it doesn&apos;t support reading all the information generated by the Go compilation toolchain, such as .debug_frame.</li>
</ul>
<p>This is why the unofficial Go debugger <a href="https://github.com/go-delve/delve" target="_blank">go-delve/delve</a> implements its own DWARF generation and parsing logic internally. It even implements its own generation logic, on one hand to compare with the DWARF data generated by the Go compilation toolchain team, and on the other hand to provide feedback from a debugger developer&apos;s perspective when the Go compilation toolchain&apos;s DWARF data description is insufficient, thus forming collaboration and co-construction with the Go core team.</p>
<blockquote>
<p>ps: A developer created a demo <a href="https://github.com/ConradIrwin/ggg" target="_blank">ggg</a> while learning debugger development, which also customized debug/dwarf. See: <a href="https://github.com/ConradIrwin/go-dwarf" target="_blank">ConradIrwin/go-dwarf</a>. This is just an example of customizing <code>debug/dwarf</code>, not suggesting this library is usable, and it hasn&apos;t been updated in 11 years. Even if you want to use it, you should prioritize the implementation in <code>go-delve/delve</code>.</p>
</blockquote>
<h3 id="implementation-1-go-standard-library-debugdwarf">Implementation 1: Go Standard Library debug/dwarf</h3>
<p>In the previous section, we introduced the Go standard library <code>debug/dwarf</code>, which provides parsing of DWARF debugging information. As the official implementation, it provides low-level APIs that allow you to traverse and inspect DWARF data structures.</p>
<p>Relatively speaking, the official library is the most basic and reliable choice. If more advanced analysis or integration is needed, you may need to build upon the official library, adding more features and providing higher-level abstractions. We&apos;ve analyzed why the current <code>debug/dwarf</code> is unlikely to reach &quot;perfection&quot; and cited examples of <code>go-delve/delve</code> and <code>ggg</code>.</p>
<p>OK, let&apos;s look at the support level and limitations of <code>debug/dwarf</code>, using go1.24 as an example:</p>
<ul>
<li>Supports reading .debug<em> and .zdebug</em> sections;</li>
<li>If debugging information is compressed with zlib or zstd, supports automatic decompression via <code>debug/elf.(*Section).Data()</code>;</li>
<li>Some debugging information requires relocation operations, supports on-demand relocation via <code>debug/elf.(*File).applyRelocations(a, b)</code>;</li>
<li>DWARFv4 multiple .debug_types, dwarf.Data adds additional numbering to section names for easier problem location;</li>
<li>All .debug<em> and .zdebug</em> sections are uniformly converted to .debug_ sections in dwarf.Data;</li>
<li>All DWARF sections are read normally!</li>
</ul>
<pre><code class="lang-go"><span class="hljs-keyword">func</span> (f *File) DWARF() (*dwarf.Data, error) {
    <span class="hljs-comment">// Get the suffix after .[z]debug_ sections, return empty for other sections</span>
    dwarfSuffix := <span class="hljs-keyword">func</span>(s *Section) <span class="hljs-keyword">string</span> { ... }
    <span class="hljs-comment">// Get data from .[z]debug_ sections, decompress and relocate as needed</span>
    sectionData := <span class="hljs-keyword">func</span>(i <span class="hljs-keyword">int</span>, s *Section) ([]<span class="hljs-keyword">byte</span>, error) { ... }

    <span class="hljs-comment">// DWARFv4 has many .[z]debug_ sections, initially debug/dwarf mainly handled these sections</span>
    <span class="hljs-keyword">var</span> dat = <span class="hljs-keyword">map</span>[<span class="hljs-keyword">string</span>][]<span class="hljs-keyword">byte</span>{<span class="hljs-string">&quot;abbrev&quot;</span>: <span class="hljs-literal">nil</span>, <span class="hljs-string">&quot;info&quot;</span>: <span class="hljs-literal">nil</span>, <span class="hljs-string">&quot;str&quot;</span>: <span class="hljs-literal">nil</span>, <span class="hljs-string">&quot;line&quot;</span>: <span class="hljs-literal">nil</span>, <span class="hljs-string">&quot;ranges&quot;</span>: <span class="hljs-literal">nil</span>}
    <span class="hljs-keyword">for</span> i, s := <span class="hljs-keyword">range</span> f.Sections {
        suffix := dwarfSuffix(s)
        <span class="hljs-keyword">if</span> suffix == <span class="hljs-string">&quot;&quot;</span> {
            <span class="hljs-keyword">continue</span>
        }
        <span class="hljs-keyword">if</span> _, ok := dat[suffix]; !ok {
            <span class="hljs-keyword">continue</span>
        }
        b, _ := sectionData(i, s)
        dat[suffix] = b
    }

    <span class="hljs-comment">// Create dwarf.Data, only including processed .[z]debug_ sections</span>
    d, _ := dwarf.New(dat[<span class="hljs-string">&quot;abbrev&quot;</span>], <span class="hljs-literal">nil</span>, <span class="hljs-literal">nil</span>, dat[<span class="hljs-string">&quot;info&quot;</span>], dat[<span class="hljs-string">&quot;line&quot;</span>], <span class="hljs-literal">nil</span>, dat[<span class="hljs-string">&quot;ranges&quot;</span>], dat[<span class="hljs-string">&quot;str&quot;</span>])

    <span class="hljs-comment">// Continue processing multiple .debug_types sections and other DWARFv4/v5 sections</span>
    <span class="hljs-keyword">for</span> i, s := <span class="hljs-keyword">range</span> f.Sections {
        suffix := dwarfSuffix(s)
        <span class="hljs-keyword">if</span> suffix == <span class="hljs-string">&quot;&quot;</span> {
            <span class="hljs-keyword">continue</span>
        }
        <span class="hljs-keyword">if</span> _, ok := dat[suffix]; ok {
            <span class="hljs-comment">// Already handled</span>
            <span class="hljs-keyword">continue</span>
        }

        b, _ := sectionData(i, s)
        <span class="hljs-comment">// If there are multiple .debug_types sections, add numbering to section names in dwarf.Data for easier problem location</span>
        <span class="hljs-keyword">if</span> suffix == <span class="hljs-string">&quot;types&quot;</span> {
            _ = d.AddTypes(fmt.Sprintf(<span class="hljs-string">&quot;types-%d&quot;</span>, i), b); err != <span class="hljs-literal">nil</span> {
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-comment">// Other DWARF sections</span>
            _ = d.AddSection(<span class="hljs-string">&quot;.debug_&quot;</span>+suffix, b); err != <span class="hljs-literal">nil</span> {
        }
    }

    <span class="hljs-keyword">return</span> d, <span class="hljs-literal">nil</span>
}
</code></pre>
<p><code>debug/dwarf</code> does read all DWARF data, but that&apos;s not enough! It&apos;s only truly useful to us after reading, parsing, and providing appropriate APIs. To implement conventional debugging capabilities, a debugger needs:</p>
<ul>
<li>Support for viewing or modifying types, variables, and constants requires reading and parsing DIEs in .debug_info -- debug/dwarf supports this</li>
<li>Need to implement conversion between instruction addresses and source code locations, requires reading and parsing line number tables in .debug_line -- debug/dwarf supports this</li>
<li>Implementing call stack backtracing requires knowing pcsp relationships, requires reading and parsing call stack information tables in .debug_frame -- debug/dwarf doesn&apos;t support this!!!<blockquote>
<p>ps: go runtime uses .gopclntab combined with tls.g information to generate call stacks.</p>
</blockquote>
</li>
<li>Other sections also don&apos;t provide corresponding APIs for operation.</li>
</ul>
<p>In summary, debug/dwarf completes the reading, decompression, and relocation of DWARF data, but doesn&apos;t provide comprehensive and complete API coverage. It becomes tricky when we want to read different types of DWARF information. This also means that to implement various DWARF data query operations needed in a debugger, we need to implement them ourselves.</p>
<h3 id="implementation-2-go-toolchain-cmdinternaldwarf">Implementation 2: Go Toolchain cmd/internal/dwarf</h3>
<p>At the Go compilation toolchain level, DWARF debugging information generation is distributed across the compiler and linker, both of which are involved in DWARF debugging information generation work, with different responsibilities. The common library cmd/internal/dwarf is used by both the compiler and linker.</p>
<ul>
<li><code>go tool compile</code> records a series of link.LSym (link.LSym.Type=SDWARFXXX, link.LSym.P=DWARF encoded data);</li>
<li><code>go tool link</code> integrates, converts, and processes the above information recorded by the compiler in the input object files, finally outputting debugging information to .debug_ sections;</li>
</ul>
<p>In the next two sections, we&apos;ll detail the above work process of the compiler and linker, which is very valuable for our subsequent development and testing of our own debugger.</p>
<p>Now, let&apos;s look at what functionality the cmd/internal/dwarf package supports:</p>
<ul>
<li><p>dwarf_defs.go defines some constants in DWARF, DW_TAG types, DW_CLS types, DW_AT attribute types, DW_FORM encoding forms, DW_OP operation instructions, DW_ATE attribute encoding types, DW_ACCESS access modifiers, DW_VIS visibility modifiers, DW_VIRTUALITY virtual function modifiers, DW_LANG language types (go is 22), DW_INL inline types, DW_ORD row (column) major order, DW_LNS line number table operations, DW_MACINFO macro definition operations, DW_CFA call stack information table operations, etc.;</p>
<p>These definitions are categorized into different packages in <code>go-delve/delve</code>, making it clearer.</p>
</li>
<li>dwarf.go defines some common code for generating and encoding DWARF debugging information. DWARF debugging information generation is completed by the compiler and linker, and dwarf.go defines some exported functions for generating DWARF debugging information, which are used by both the compiler and linker.</li>
</ul>
<blockquote>
<p>ps: dwarf.go is very helpful to us and has great reference value, because the DWARF representation of various program constructs is implemented in this file. Reading this source file helps us understand the DIE TAG, Attr, and other DWARF description elements used to describe different program constructs, so when we implement our own debugger and need to extract necessary information, we know how to precisely reverse the operation.</p>
</blockquote>
<p>This code is mainly for use by the Go compilation toolchain, and its design and implementation are tightly integrated with other parts of the compilation toolchain, making it difficult to extract for reuse. This package is also organized under the internal directory, unlike <code>debug/dwarf</code> which is exposed to ordinary Go developers. Even if this code is very useful, it would require copying, pasting, and making significant changes. <code>go-delve/delve</code> copied and pasted this code for generating DWARF data for comparison and testing, but except for the debugger project itself, it&apos;s hard to find other projects that would do this. If we really want to reuse this code, we can use the implementation in <code>go-delve/delve</code>.</p>
<h3 id="implementation-3-go-delvedelvepkgdwarf">Implementation 3: go-delve/delve/pkg/dwarf</h3>
<h4 id="how-does-dlv-handle-dwarf">How does dlv handle DWARF?</h4>
<p>Taking the popular Go debugger <code>go-delve/delve</code> as an example, how does it handle DWARF debugging information? Does it use the standard library? To verify these points, you can execute <code>git log -S &quot;DWARF()&quot;</code> in the git repository to search for commit records, finding several key pieces of information:</p>
<ol>
<li><p>Delve initially also used the standard library <code>debug/dwarf</code> to implement debugging information parsing, at a time when both Go and delve were in relatively early stages, and not very mature in various aspects.</p>
<pre><code class="lang-bash">commit f1e5a70a4b58e9caa4b40a0493bfb286e99789b9
Author: Derek Parker &lt;parkerderek86@gmail.com&gt;
Date:   Sat Sep 13 12:28:46 2014 -0500

Update <span class="hljs-keyword">for</span> Go 1.3.1

I decided to vendor all debug/dwarf and debug/elf files so that the
project can be go get-table. All changes that I am waiting to land <span class="hljs-keyword">in</span> Go
1.4 are now captured <span class="hljs-keyword">in</span> /vendor/debug/*.
</code></pre>
</li>
<li><p>Delve developers found issues with parsing certain type information using <code>debug/dwarf</code>, so they temporarily replaced it with package <code>x/debug/dwarf</code> to address this problem. Looking at the <code>x/debug/dwarf</code> package now, some source files are missing because they have been migrated to the Go source tree.</p>
<pre><code class="lang-bash">commit 54f1c9b3d40f606f7574c971187e7331699f378e
Author: aarzilli &lt;alessandro.arzilli@gmail.com&gt;
Date:   Sun Jan 24 10:25:54 2016 +0100

    proc: replace debug/dwarf with golang.org/x/debug/dwarf

    Typedefs that resolve to slices are not recorded <span class="hljs-keyword">in</span> DWARF as typedefs
    but instead as structs <span class="hljs-keyword">in</span> a way that there is no way to know they
    are really slices using debug/dwarf.
    Using golang.org/x/debug/dwarf instead this problem is solved and
    as a bonus some types are printed with a nicer names: (struct string
    &#x2192; string, struct []int &#x2192; []int, etc)

     Fixes <span class="hljs-comment">#356 and #293</span>
</code></pre>
</li>
<li><p>Later, <code>debug/dwarf</code> fixed the previous issues, and delve switched back from <code>x/debug/dwarf</code> to <code>debug/dwarf</code>.</p>
<pre><code class="lang-bash">commit 1e3ff49610690e9890a669c95d903184baae1f4f
Author: aarzilli &lt;alessandro.arzilli@gmail.com&gt;
Date:   Mon May 29 15:20:01 2017 +0200

    pkg/dwarf/godwarf: split out <span class="hljs-built_in">type</span> parsing from x/debug/dwarf

    Splits out <span class="hljs-built_in">type</span> parsing and go-specific Type hierarchy from
    x/debug/dwarf, replace x/debug/dwarf with debug/dwarf everywhere,
    remove x/debug/dwarf from vendoring.
</code></pre>
</li>
<li><p>Subsequently, delve implemented its own parsing of debug_line and compared the processing results with the standard library, finding that the functional correctness of processing was already consistent with the standard library.</p>
<p>One might ask why implement it yourself? I understand that on one hand, both Go and delve are rapidly evolving, and the Go official team hasn&apos;t put as much effort into debugging aspects. On the other hand, delve inevitably needs to parse some debugging information itself. Eventually, delve developers rewrote the parsing of .debug_line along with other sections, giving delve better completeness in parsing debugging information.</p>
<pre><code class="lang-bash">commit 3f9875e272cbaae7e507537346757ac4db6d25fa
Author: aarzilli &lt;alessandro.arzilli@gmail.com&gt;
Date:   Mon Jul 30 11:18:41 2018 +0200

    dwarf/line: fix some bugs with the state machine

    Adds a <span class="hljs-built_in">test</span> that compares the output of our state machine with the
    output of the debug_line reader <span class="hljs-keyword">in</span> the standard library and checks that
    they produce the same output <span class="hljs-keyword">for</span> the debug_line section of grafana as
    compiled on macOS (<span class="hljs-built_in">which</span> is the most interesting <span class="hljs-keyword">case</span> since it uses cgo
    and therefore goes through dsymutil).

    ...
</code></pre>
</li>
</ol>
<p>In summary, the standard library&apos;s support for reading and parsing debugging information is limited, and both Go and delve are rapidly evolving. Clearly, delve&apos;s need for DWARF is significantly stronger than Go itself. Delve initially used the standard library, later found limitations, and began rewriting the reading and parsing of DWARF debugging information. Of course, during this rewriting process, it also drew on implementations from the Go standard library, and the Go compilation toolchain has received optimization suggestions for DWARF debugging information generation from delve developers, forming a process of collaboration and co-construction.</p>
<p>We understand this level is sufficient. As long as the Go standard library supports it, delve&apos;s design and implementation will align with the Go standard library, which is definitely not a problem. But for what the Go standard library doesn&apos;t support yet, or doesn&apos;t plan to support, delve developers need to implement and verify it first, then provide feedback to Go compilation toolchain developers, improving it through co-construction. This part is also a continuous optimization process, for example, now or in the future, it will continue to align with excellent features in DWARF v5, and this processing logic will continue to be optimized.</p>
<p>We just need to understand this co-construction process. When we implement our own debugger, we can refer to the current best practices of the delve debugger.</p>
<h4 id="understanding-delve-pkgdwarf">Understanding delve pkg/dwarf</h4>
<p>The DWARF operation-related parts in go-delve/delve are mainly in the package <code>pkg/dwarf</code>. Let&apos;s briefly list what it mainly implements.</p>
<ul>
<li><p>pkg/dwarf/util: Some code in this package is copied and modified from the Go standard library, for example, <code>pkg/dwarf/util/buf.go</code> is mostly standard library code, with only minor adjustments, adding several utility functions to read variable-length encoded values, read strings, and read DWARF information at the beginning of compilation units.</p>
</li>
<li><p>pkg/dwarf/dwarfbuilder: This package provides utility classes and functions to quickly encode DWARF information, such as adding compilation units, functions, variables, and types to .debug_info. It also adds LocEntry information to .debug_loc.
Why does go-delve/delve provide such a package implementation? I believe that on one hand, the Go standard library doesn&apos;t provide this information (the toolchain cmd/internal/dwarf has it, but as mentioned earlier, it&apos;s not included in the standard library and is difficult to copy &amp; paste for reuse), and there hasn&apos;t been as much investment in how to use DWARF debugging information to comprehensively describe Go program constructs. go-delve/delve here is also doing some exploration in this area, then collaborating with the Go development team. So maintaining this DWARF data generation logic here is understandable.</p>
</li>
<li><p>pkg/dwarf/frame: This package provides parsing of .debug_frame and .zdebug_frame. Each compilation unit has its own .debug_frame, which the linker finally merges into one. For each compilation unit cu, it first encodes the corresponding CIE information, then follows with the FDE information contained in the compilation unit cu. Then comes the next compilation unit&apos;s CIE, FDEs... and so on. For this information, a state machine can be used for parsing.</p>
</li>
<li><p>pkg/dwarf/line: This package provides parsing of .debug_line. The reason for implementing it yourself instead of using debug/gosym in the Go standard library has been mentioned many times before - the standard library implementation only supports pure Go code, not cgo code, missing this part of line table data. The reason for not using the standard library debug/dwarf is also a implementation strategy of delve, relatively speaking, ensuring the completeness of delve&apos;s DWARF parsing and debugging functionality.</p>
</li>
<li><p>pkg/dwarf/godwarf: The code here, compared with the Go standard library debug/dwarf, has many similarities, likely modified on the basis of the standard library. It mainly implements reading of DWARF information and supports ZLIB decompression. It also adds code to support .debug_addr newly added in DWARF v5, which helps simplify existing relocation operations. It also provides reading of some type information specified in the DWARF standard. It also supports reading and parsing of DIEs in .debug_info, and for easier use, it organizes them into a DIE Tree form.</p>
</li>
<li><p>pkg/dwarf/loclist: The same object may change its location during its lifecycle, and location list information is used to describe this situation. DWARF v2~v4 all have descriptions in this area, and DWARF v5 also has improvements.</p>
</li>
<li><p>pkg/dwarf/op: DWARF defines many operation instructions, and this package mainly implements these instruction operations.</p>
</li>
<li><p>pkg/dwarf/reader: Further encapsulation on the standard library dwarf.Reader to achieve more convenient DWARF information access.</p>
</li>
<li><p>pkg/dwarf/util: Provides some buffer implementations needed for DWARF data parsing, as well as utility functions for reading LEB128 encoding/decoding and reading strings from string tables (null-terminated).</p>
</li>
</ul>
<h2 id="summary">Summary</h2>
<p>Later, we will refer to the implementation in go-delve/delve/pkg/dwarf for parsing DWARF data in our debugger. Before using it, I will lead everyone through the design and implementation of this part of the code, so we understand both how and why, making us confident in using it and truly &quot;mastering&quot; it. This part of the code is closely related to the DWARF debugging information standard. If readers can combine it with the DWARF standard content in the next chapter (or keep the DWARF v4/v5 debugging information standard handy) to read, and frequently write some test code to see what the generated DWARF debugging information looks like, understanding will be smoother and more thorough.</p>
<blockquote>
<p>We only need to read for debugger development, but to help everyone better understand DWARF like derekparker and arzillia masters who can freely extend support for Go new features and collaborate with the Go toolchain core team, we also need to think about how to use DWARF to describe different program constructs. So we should also appropriately master DWARF data generation. Although it may seem &quot;boring&quot;, what is boring? When I was organizing these seemingly boring words, I never found them boring.</p>
</blockquote>
<p>In Chapter 8, we will introduce the DWARF debugging information standard, and in Chapter 9, we will implement symbolic debugger functionality. At that time, we &quot;may&quot; trim go-delve/delve and provide further detailed explanations and example code demonstrations. The code in go-delve/delve/pkg/dwarf alone exceeds 6500 lines. Since we are doing this for learning and exchange purposes, to save space and code volume in this book and get the first complete version to readers as soon as possible, I may consider trimming the delve code, such as keeping only the implementation for the linux+amd64 environment that everyone can easily obtain, but retaining necessary abstraction levels, so everyone can still understand more challenges faced by a truly usable debugger.</p>
<blockquote>
<p>For example, deleting code unrelated to Linux ELF, such as some code related to Windows PE and Darwin macho, but retaining interface abstractions for different platforms and different executable file formats.</p>
</blockquote>
<p>This can save the author&apos;s time, ensure the overall progress of the book, avoid getting stuck in too many details, and complete the book and start errata at a faster pace. Precipitating knowledge to enable each reader to develop symbolic debugger capabilities is my unchanging original intention in writing this book. We don&apos;t have such a necessity to write a DWARF read/write library from scratch, and I hope readers understand the reasons for this decision. Moreover, this e-book has already gone through too long a time, and it must release its first complete version as soon as possible. Perhaps after we have more contributors, we can consider providing a more streamlined, just-right implementation more suitable for our tutorial than <code>go-delve/delve/pkg/dwarf</code>.</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="./" class="navigation navigation-prev " aria-label="Previous page: 7.7 Advancing to DWARF">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="2-delve-into-internals.html" class="navigation navigation-next " aria-label="Next page: 7.7.2 How to Crack Those Details">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"7.7.1 Related Go Packages","level":"1.7.7.1","depth":3,"next":{"title":"7.7.2 How to Crack Those Details","level":"1.7.7.2","depth":3,"path":"7-headto-sym-debugger/7-headto-dwarf/2-delve-into-internals.md","ref":"7-headto-sym-debugger/7-headto-dwarf/2-delve-into-internals.md","articles":[]},"previous":{"title":"7.7 Advancing to DWARF","level":"1.7.7","depth":2,"path":"7-headto-sym-debugger/7-headto-dwarf/README.md","ref":"7-headto-sym-debugger/7-headto-dwarf/README.md","articles":[{"title":"7.7.1 Related Go Packages","level":"1.7.7.1","depth":3,"path":"7-headto-sym-debugger/7-headto-dwarf/1-gopkgs-about-dwarf.md","ref":"7-headto-sym-debugger/7-headto-dwarf/1-gopkgs-about-dwarf.md","articles":[]},{"title":"7.7.2 How to Crack Those Details","level":"1.7.7.2","depth":3,"path":"7-headto-sym-debugger/7-headto-dwarf/2-delve-into-internals.md","ref":"7-headto-sym-debugger/7-headto-dwarf/2-delve-into-internals.md","articles":[]},{"title":"7.7.3 Compiler Generated DWARF Data","level":"1.7.7.3","depth":3,"path":"7-headto-sym-debugger/7-headto-dwarf/3-compiler-gen-dwarfdata.md","ref":"7-headto-sym-debugger/7-headto-dwarf/3-compiler-gen-dwarfdata.md","articles":[]},{"title":"7.7.4 Linker Generated DWARF Data","level":"1.7.7.4","depth":3,"path":"7-headto-sym-debugger/7-headto-dwarf/4-linker-gen-dwarfdata.md","ref":"7-headto-sym-debugger/7-headto-dwarf/4-linker-gen-dwarfdata.md","articles":[]},{"title":"7.7.5 Understanding DWARF","level":"1.7.7.5","depth":3,"path":"7-headto-sym-debugger/7-headto-dwarf/5-headto-dwarf.md","ref":"7-headto-sym-debugger/7-headto-dwarf/5-headto-dwarf.md","articles":[]}]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["md-toc"],"pluginsConfig":{"intopic-toc":{"selector":".markdown-section h1, .markdown-section h2, .markdown-section h3, .markdown-section h4, .markdown-section h5, .markdown-section h6","visible":true,"label":{"en":"In This Article","zh":"本文目录"}},"md-toc":{"label":"In this article","selector":".markdown-section h2","visible":true},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"7-headto-sym-debugger/7-headto-dwarf/1-gopkgs-about-dwarf.md","mtime":"2025-06-15T10:50:38.983Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2025-06-15T18:01:33.391Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-md-toc/anchor.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-md-toc/gumshoe.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-md-toc/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

